import{aW as L,bf as W,P as b,aa as U,o as f,Q as g,w as t,a as e,e as m,aZ as a,X as c,W as v,c as I,F as P,a0 as T,bg as y,bh as z,$ as O,b as p,bi as F,bj as M,aV as Q,aY as R,b2 as A,b3 as H,R as j,bk as D,Y as x,S,U as B,O as k,N as $,ap as E,aw as X,t as Z,a3 as w}from"./index.24ce2781.js";import{u as C}from"./sellsOrders.afab77f6.js";import{V as Y}from"./VAutocomplete.1567798f.js";import{h as G}from"./moment.9709ab41.js";import{V as q,a as J,b as h,c as ee}from"./VWindowItem.64e4e372.js";import"./report.a47ace16.js";import"./VSelect.008f7a26.js";import"./VCheckboxBtn.5fb0b5d8.js";const le={__name:"ItemInput",setup(V){const l=C(),_=L();W(l);const o=b(""),d=b(""),s=b(""),i=b("");return U(o,(r,u)=>{if(r){console.log("Inside Product ID");let n=_.productList.find(K=>K.product_id===r);l.item.product_id=o,l.item.quantity=1,l.item.unit_price=n.selling_price,l.item.total_price=n.selling_price,d.value=1,i.value=n.selling_price,s.value=n.selling_price,l.updateProductData()}}),U(d,r=>{if(r){console.log("Inside Quantity"),l.item.quantity=r;let u=l.item.quantity*l.item.unit_price;l.item.total_price=u,l.updateProductData(),i.value=u}}),U(s,r=>{r&&(console.log("Inside Unit Price"),l.item.unit_price=r,l.item.total_price=l.item.quantity*l.item.unit_price,l.updateProductData(),i.value=l.item.total_price)}),U(i,r=>{r&&(console.log("Inside Total price"),l.item.unit_price=r/l.item.quantity,l.item.total_price=r,s.value=r/l.item.quantity,l.updateProductData())}),(r,u)=>(f(),g(v,null,{default:t(()=>[e(m,{cols:"12",lg:"3"},{default:t(()=>[e(Y,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=n=>o.value=n),items:a(_).getProductsSelect,class:"centered-input",label:"Product",variant:"underlined",onUpdate:u[1]||(u[1]=n=>r.alert("Hello"))},null,8,["modelValue","items"])]),_:1}),e(m,{cols:"12",lg:"3"},{default:t(()=>[e(c,{modelValue:d.value,"onUpdate:modelValue":u[2]||(u[2]=n=>d.value=n),label:"Quantity",placeholder:"Quantity",variant:"underlined",class:"centered-input"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",lg:"3"},{default:t(()=>[e(c,{modelValue:s.value,"onUpdate:modelValue":u[3]||(u[3]=n=>s.value=n),label:"Price",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",lg:"3"},{default:t(()=>[e(c,{modelValue:i.value,"onUpdate:modelValue":u[4]||(u[4]=n=>i.value=n),label:"Subtotal",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}))}},te={__name:"OrderItem",props:["tab"],setup(V){const _=V.tab,o=C();return(d,s)=>(f(),g(y,null,{default:t(()=>[(f(!0),I(P,null,T(a(o).orders[a(_)].items,(i,r)=>(f(),g(le,{key:r,item:r,tab:a(_),onClick:u=>a(o).selectedItems=r},null,8,["item","tab","onClick"]))),128))]),_:1}))}};const N=V=>(F("data-v-2a296ad3"),V=V(),M(),V),ae={class:"text-center"},oe={class:"text-center"},de={class:"text-center"},ue={class:"text-center"},re=N(()=>p("td",null,"Total",-1)),ne={class:"text-center"},se=N(()=>p("td",null,"Pay",-1)),ie={class:"text-center"},me=N(()=>p("td",null,"Balance",-1)),pe={class:"text-center"},ce={__name:"Subtotal",setup(V){const l=C();return(_,o)=>(f(),g(v,{class:"pa-x ma-x"},{default:t(()=>[e(m,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"},{default:t(()=>[e(O,null,{default:t(()=>[p("tbody",null,[p("tr",null,[p("td",ae,[e(c,{modelValue:a(l).order.subtotal,"onUpdate:modelValue":o[0]||(o[0]=d=>a(l).order.subtotal=d),type:"number",variant:"underlined",class:"centered-input",label:"Subtotal",readonly:""},null,8,["modelValue"])]),p("td",oe,[e(c,{modelValue:a(l).order.labour,"onUpdate:modelValue":o[1]||(o[1]=d=>a(l).order.labour=d),onKeyup:o[2]||(o[2]=d=>a(l).updateProductData()),type:"number",variant:"underlined",class:"centered-input",label:"Labour"},null,8,["modelValue"])]),p("td",de,[e(c,{modelValue:a(l).order.discount,"onUpdate:modelValue":o[3]||(o[3]=d=>a(l).order.discount=d),onKeyup:o[4]||(o[4]=d=>a(l).updateProductData()),type:"number",class:"centered-input",variant:"underlined",label:"Discount"},null,8,["modelValue"])]),p("td",ue,[e(c,{modelValue:a(l).order.collection,"onUpdate:modelValue":o[5]||(o[5]=d=>a(l).order.collection=d),onKeyup:o[6]||(o[6]=d=>a(l).updateProductData()),type:"number",class:"centered-input",variant:"underlined",label:"Collection"},null,8,["modelValue"])])])])]),_:1})]),_:1}),e(m,{md:"6",lg:"4",cols:"12"},{default:t(()=>[e(O,null,{default:t(()=>[p("tbody",null,[p("tr",null,[re,p("td",ne,[e(c,{modelValue:a(l).order.total,"onUpdate:modelValue":o[7]||(o[7]=d=>a(l).order.total=d),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])]),p("tr",null,[se,p("td",ie,[e(c,{modelValue:a(l).order.pay,"onUpdate:modelValue":o[8]||(o[8]=d=>a(l).order.pay=d),onKeyup:o[9]||(o[9]=d=>a(l).updateBalance()),type:"number",placeholder:"Pay",variant:"solo-filled",class:"centered-input"},null,8,["modelValue"])])]),p("tr",null,[me,p("td",pe,[e(c,{modelValue:a(l).order.balance,"onUpdate:modelValue":o[10]||(o[10]=d=>a(l).order.balance=d),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])])])]),_:1})]),_:1})]),_:1}))}},_e=z(ce,[["__scopeId","data-v-2a296ad3"]]),fe={__name:"CreateOrder",props:["index"],setup(V){const l=V;let _=Q();b(),b(!1),b();let o=G().format("YYYY-MM-DD");b(o);const d=l.index,s=b([]);R(async()=>{let r=await A.get(H.getCustomer);s.value=r.data.data.map(u=>({title:u.name,value:u.customer_id}))});const i=C();return(r,u)=>(f(),g(v,null,{default:t(()=>[e(m,{md:"6",lg:"12",cols:"12"},{default:t(()=>[e(j,null,{default:t(()=>[e(v,{"no-gutters":""},{default:t(()=>[e(m,{cols:"12",sm:"8",md:"12",lg:"6",order:"2","order-lg":"1"},{default:t(()=>[e(y,null,{default:t(()=>[e(D,null,{default:t(()=>[x("Customer")]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(v,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[e(Y,{modelValue:a(i).order.customer_id,"onUpdate:modelValue":u[0]||(u[0]=n=>a(i).order.customer_id=n),items:s.value,label:"Customer Name",placeholder:"Customer Name"},null,8,["modelValue","items"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:r.firstName,"onUpdate:modelValue":u[1]||(u[1]=n=>r.firstName=n),label:"Contact No",placeholder:"Contact No"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",sm:"4",md:"12",lg:"6",order:"1","order-lg":"2"},{default:t(()=>[e(y,null,{default:t(()=>[e(D,null,{default:t(()=>[x("Order")]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(v,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:r.firstName,"onUpdate:modelValue":u[2]||(u[2]=n=>r.firstName=n),label:"Order No",placeholder:"Order No",readonly:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:a(i).order.order_date,"onUpdate:modelValue":u[3]||(u[3]=n=>a(i).order.order_date=n),label:"Order Date",placeholder:"Order Date",type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(y,null,{default:t(()=>[e(D,null,{default:t(()=>[x("Items")]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(B)]),_:1}),e(te,{tab:a(d)},null,8,["tab"]),e(y,null,{default:t(()=>[e(k,{block:"",onClick:u[4]||(u[4]=n=>a(i).addProductItem())},{default:t(()=>[e($,{size:"2rem",icon:"material-symbols:add-circle-outline-rounded"})]),_:1})]),_:1}),e(y,null,{default:t(()=>[e(_e)]),_:1}),E(e(y,null,{default:t(()=>[e(v,{class:"pa-x ma-x"},{default:t(()=>[e(m,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(m,{md:"6",lg:"4",cols:"12"},{default:t(()=>[e(v,null,{default:t(()=>[e(m,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:t(()=>[e(k,null,{default:t(()=>[x(" Save ")]),_:1})]),_:1}),e(m,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:t(()=>[e(k,{class:"bg-success",onClick:u[5]||(u[5]=n=>a(i).payment())},{default:t(()=>[x(" Payment ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),[[X,a(_).can("sales-order-create")]])]),_:1})]),_:1})]),_:1}))}},Ve={__name:"sells-order",setup(V){const l=C();b("Hello");const _=l.orders;return(o,d)=>(f(),I("div",null,[e(J,{modelValue:a(l).activeTab,"onUpdate:modelValue":d[1]||(d[1]=s=>a(l).activeTab=s),"show-arrows":""},{default:t(()=>[(f(!0),I(P,null,T(a(_),(s,i)=>(f(),g(q,{key:s.name,value:s.tab,onClick:r=>a(l).selectTab(i)},{default:t(()=>[e($,{size:"20",start:"",icon:"lucide:user-round"}),x(" "+Z(s.title),1)]),_:2},1032,["value","onClick"]))),128)),e(q,{value:"",onClick:d[0]||(d[0]=s=>a(l).addTab())},{default:t(()=>[e($,{size:"20",start:"",icon:"iconoir:new-tab"})]),_:1})]),_:1},8,["modelValue"]),e(B),e(ee,{modelValue:a(l).activeTab,"onUpdate:modelValue":d[2]||(d[2]=s=>a(l).activeTab=s),class:"mt-5 disable-tab-transition",touch:!1},{default:t(()=>[(f(!0),I(P,null,T(a(_),(s,i)=>(f(),g(h,{key:s.tab,value:s.tab},{default:t(()=>[e(fe,{items:s.items,index:i},null,8,["items","index"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof w=="function"&&w(Ve);export{Ve as default};
