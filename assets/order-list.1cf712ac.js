import{aY as $,o as d,W as h,w as n,a,e as p,X as B,bl as g,$ as L,k as C,a0 as N,i as e,a3 as R,b as t,c as u,F as f,a4 as b,t as s,as as m,az as x,T as V,_ as U,m as v}from"./index.81261210.js";import{u as z}from"./report.0e28ac78.js";import{u as O,h as A}from"./tab.f34ac616.js";import"./moment.9709ab41.js";import{u as w}from"./sellsOrders.92e534fc.js";import{_ as I}from"./UpdateOrder.7dd48bce.js";import{V as P,a as F,b as W,c as j}from"./VWindowItem.77ee2326.js";import"./VAutocomplete.5c8c8686.js";import"./VSelect.5de91618.js";import"./VCheckboxBtn.bb996ea2.js";const q=t("thead",null,[t("tr",null,[t("th",{class:"text-uppercase"}," Order ID "),t("th",{class:"text-center text-uppercase"}," Customer Name "),t("th",{class:"text-center text-uppercase"}," Total Item "),t("th",{class:"text-center text-uppercase"}," Order Amount "),t("th",{class:"text-center text-uppercase"}," Labour "),t("th",{class:"text-center text-uppercase"}," Discount "),t("th",{class:"text-center text-uppercase"}," Collection "),t("th",{class:"text-center text-uppercase"}," Paid "),t("th",{class:"text-center text-uppercase"}," Balance "),t("th",{class:"text-center text-uppercase"}," Profit "),t("th",{class:"text-center text-uppercase"}," Action ")])],-1),E={class:"text-center"},Q={class:"text-center"},X={class:"text-center"},Y={class:"text-center"},G={class:"text-center"},H={class:"text-center"},J={class:"text-center"},K={class:"text-center"},M={class:"text-center"},Z={class:"text-center"},tt=t("td",{colspan:"2",class:"text-center"}," Total ",-1),et={class:"text-center"},st={class:"text-center"},at={class:"text-center"},ot={class:"text-center"},rt={class:"text-center"},lt={class:"text-center"},ct={class:"text-center"},nt={class:"text-center"},dt={__name:"SalesOrderList",setup(D){let c=$();const o=z(),T=O(),i=w();async function r(_){await i.addUpdateOrder(_.order_code),await T.addTab({id:_.order_code,name:_.customer_name})}function k(){o.getOrderList()}return o.getOrderList(),(_,y)=>(d(),h(L,{justify:"center"},{default:n(()=>[a(p,{cols:"12"},{default:n(()=>[a(B,null,{default:n(()=>[a(g,null,{default:n(()=>[a(L,null,{default:n(()=>[a(p,{cols:"8"},{default:n(()=>[C(" Order list ")]),_:1}),a(p,{cols:"4"},{default:n(()=>[a(N,{modelValue:e(o).salesReportDate,"onUpdate:modelValue":y[0]||(y[0]=l=>e(o).salesReportDate=l),label:"Order Date",placeholder:"Order Date",type:"date",onChange:k},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(R,null,{default:n(()=>[q,t("tbody",null,[(d(!0),u(f,null,b(e(o).salesOrderList.items,l=>(d(),u("tr",{key:l.order_code},[t("td",null,s(l.order_code),1),t("td",E,s(l.customer_name),1),t("td",Q,s(l.order_qty),1),t("td",X,s(l.order_payable_amount),1),t("td",Y,s(l.labour),1),t("td",G,s(l.discount),1),t("td",H,s(l.collection),1),t("td",J,s(l.paid),1),t("td",K,s(l.balance),1),t("td",M,[m(t("span",null,s(l.profit),513),[[x,e(c).can("report-sales-order-profit")]])]),t("td",Z,[m(a(V,{size:"1.5rem",icon:"tabler:edit",onClick:S=>r(l)},null,8,["onClick"]),[[x,e(c).can("report-sales-order-edit")]]),a(V,{size:"1.5rem",icon:"ep:close-bold",onClick:S=>e(i).removeOrder(l.sales_order_id)},null,8,["onClick"])])]))),128)),t("tr",null,[tt,t("td",et,s(e(o).salesOrderList.totalOrderQty),1),t("td",st,s(e(o).salesOrderList.totalOrderAmount),1),t("td",at,s(e(o).salesOrderList.totalLabour),1),t("td",ot,s(e(o).salesOrderList.totalDiscount),1),t("td",rt,s(e(o).salesOrderList.totalCollection),1),t("td",lt,s(e(o).salesOrderList.totalPaid),1),t("td",ct,s(e(o).salesOrderList.totalBalance),1),t("td",nt,[m(t("span",null,s(e(o).salesOrderList.totalProfit),513),[[x,e(c).can("report-sales-order-profit")]])])])])]),_:1})]),_:1})]),_:1})]),_:1}))}},it={key:0},ut={key:1},_t={__name:"order-list",setup(D){const c=O(),o=w();return c.tabs=[],c.addTab({id:A.randomNumber(),name:"Order List",componentType:"main"}),(T,i)=>(d(),u("div",null,[a(F,{modelValue:e(c).selectedTab,"onUpdate:modelValue":i[0]||(i[0]=r=>e(c).selectedTab=r),"show-arrows":""},{default:n(()=>[(d(!0),u(f,null,b(e(c).tabs,r=>(d(),h(P,{key:r.id,value:r.id,onClick:k=>e(o).addUpdateOrder(r.id)},{default:n(()=>[a(V,{size:"20",start:"",icon:"la:list-alt"}),C(" "+s(r.name),1)]),_:2},1032,["value","onClick"]))),128))]),_:1},8,["modelValue"]),a(U),a(j,{modelValue:e(c).selectedTab,"onUpdate:modelValue":i[1]||(i[1]=r=>e(c).selectedTab=r),class:"mt-5 disable-tab-transition",touch:!1},{default:n(()=>[(d(!0),u(f,null,b(e(c).tabs,r=>(d(),h(W,{key:r.id,value:r.id},{default:n(()=>[r.componentType=="main"?(d(),u("div",it,[a(dt)])):(d(),u("div",ut,[a(I,{ordercode:r.id},null,8,["ordercode"])]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof v=="function"&&v(_t);export{_t as default};
