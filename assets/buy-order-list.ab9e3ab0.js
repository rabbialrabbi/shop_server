import{u as N,h as A}from"./tab.ed4365be.js";import{aW as K,bf as W,P as g,aa as U,o as p,Q as O,w as a,a as e,e as s,aZ as d,X as _,W as y,c as v,F as C,a0 as D,bg as I,bh as F,$ as B,b as o,bi as Q,bj as j,aY as Y,b2 as H,b3 as M,R as q,bk as T,Y as $,S as k,U as E,O as X,N as S,t as m,a3 as L}from"./index.24ce2781.js";import{u as R}from"./report.a47ace16.js";import{u as Z}from"./sellsOrders.afab77f6.js";import{V as w}from"./VAutocomplete.1567798f.js";import{u as h}from"./buyOrders.ad50d580.js";import{V as G,a as J,b as ee,c as te}from"./VWindowItem.64e4e372.js";import"./moment.9709ab41.js";import"./VSelect.008f7a26.js";import"./VCheckboxBtn.5fb0b5d8.js";const le={__name:"BuyItemInput",props:["item"],setup(V){const t=V,r=Z(),u=K();W(r);const l=g(t.item.product_id),i=g(t.item.quantity),b=g(t.item.unit_price),x=g(t.item.total_price);return U(l,(n,c)=>{if(n){console.log("Inside Product ID");let f=u.productList.find(z=>z.product_id===n);r.updateItem.product_id=n,r.updateItem.quantity=i.value,r.updateItem.unit_price=f.selling_price,r.updateItem.total_price=f.selling_price,x.value=f.selling_price,b.value=f.selling_price,r.updateEditProductData()}}),U(i,n=>{if(n){console.log("Inside Quantity"),r.updateItem.quantity=n;let c=r.updateItem.quantity*r.updateItem.unit_price;r.updateItem.total_price=c,r.updateEditProductData(),x.value=c}}),U(b,n=>{n&&(console.log("Inside Unit Price"),r.updateItem.unit_price=n,r.updateItem.total_price=r.updateItem.quantity*r.updateItem.unit_price,r.updateEditProductData(),x.value=r.updateItem.total_price)}),U(x,n=>{n&&(console.log("Inside Total price"),r.updateItem.unit_price=n/r.updateItem.quantity,r.updateItem.total_price=n,b.value=n/r.updateItem.quantity,r.updateEditProductData())}),(n,c)=>(p(),O(y,null,{default:a(()=>[e(s,{cols:"12",lg:"3"},{default:a(()=>[e(w,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=f=>l.value=f),items:d(u).getProductsSelect,class:"centered-input",label:"Product",variant:"underlined",onUpdate:c[1]||(c[1]=f=>n.alert("Hello"))},null,8,["modelValue","items"])]),_:1}),e(s,{cols:"12",lg:"2"},{default:a(()=>[e(_,{modelValue:i.value,"onUpdate:modelValue":c[2]||(c[2]=f=>i.value=f),label:"Quantity",placeholder:"Quantity",variant:"underlined",class:"centered-input"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",lg:"3"},{default:a(()=>[e(_,{modelValue:b.value,"onUpdate:modelValue":c[3]||(c[3]=f=>b.value=f),label:"Price",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",lg:"3"},{default:a(()=>[e(_,{modelValue:x.value,"onUpdate:modelValue":c[4]||(c[4]=f=>x.value=f),label:"Subtotal",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",lg:"1"})]),_:1}))}},ae={__name:"BuyOrderItem",setup(V){const t=h();return console.log(t.updateItem),(r,u)=>(p(),O(I,null,{default:a(()=>[(p(!0),v(C,null,D(d(t).updateOrder.items,(l,i)=>(p(),O(le,{key:i,item:l,onClick:b=>d(t).selectedUpdateOrderItem=l.item_id},null,8,["item","onClick"]))),128))]),_:1}))}};const P=V=>(Q("data-v-6ff000d1"),V=V(),j(),V),de={class:"text-center"},oe={class:"text-center"},ue={class:"text-center"},re={class:"text-center"},ne=P(()=>o("td",null,"Total",-1)),se={class:"text-center"},ie=P(()=>o("td",null,"Pay",-1)),ce={class:"text-center"},pe=P(()=>o("td",null,"Balance",-1)),me={class:"text-center"},_e={__name:"BuySubtotal",setup(V){const t=h();return(r,u)=>(p(),O(y,{class:"pa-x ma-x"},{default:a(()=>[e(s,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"},{default:a(()=>[e(B,null,{default:a(()=>[o("tbody",null,[o("tr",null,[o("td",de,[e(_,{modelValue:d(t).updateOrder.subtotal,"onUpdate:modelValue":u[0]||(u[0]=l=>d(t).updateOrder.subtotal=l),type:"number",variant:"underlined",class:"centered-input",label:"Subtotal",readonly:""},null,8,["modelValue"])]),o("td",oe,[e(_,{modelValue:d(t).updateOrder.labour,"onUpdate:modelValue":u[1]||(u[1]=l=>d(t).updateOrder.labour=l),onKeyup:u[2]||(u[2]=l=>d(t).updateEditProductData()),type:"number",variant:"underlined",class:"centered-input",label:"Labour"},null,8,["modelValue"])]),o("td",ue,[e(_,{modelValue:d(t).updateOrder.discount,"onUpdate:modelValue":u[3]||(u[3]=l=>d(t).updateOrder.discount=l),onKeyup:u[4]||(u[4]=l=>d(t).updateEditProductData()),type:"number",class:"centered-input",variant:"underlined",label:"Discount"},null,8,["modelValue"])]),o("td",re,[e(_,{modelValue:d(t).updateOrder.collection,"onUpdate:modelValue":u[5]||(u[5]=l=>d(t).updateOrder.collection=l),onKeyup:u[6]||(u[6]=l=>d(t).updateEditProductData()),type:"number",class:"centered-input",variant:"underlined",label:"Collection"},null,8,["modelValue"])])])])]),_:1})]),_:1}),e(s,{md:"6",lg:"4",cols:"12"},{default:a(()=>[e(B,null,{default:a(()=>[o("tbody",null,[o("tr",null,[ne,o("td",se,[e(_,{modelValue:d(t).updateOrder.total,"onUpdate:modelValue":u[7]||(u[7]=l=>d(t).updateOrder.total=l),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])]),o("tr",null,[ie,o("td",ce,[e(_,{modelValue:d(t).updateOrder.pay,"onUpdate:modelValue":u[8]||(u[8]=l=>d(t).updateOrder.pay=l),onKeyup:u[9]||(u[9]=l=>d(t).updateEditBalance()),type:"number",placeholder:"Pay",variant:"solo-filled",class:"centered-input"},null,8,["modelValue"])])]),o("tr",null,[pe,o("td",me,[e(_,{modelValue:d(t).updateOrder.balance,"onUpdate:modelValue":u[10]||(u[10]=l=>d(t).updateOrder.balance=l),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])])])]),_:1})]),_:1})]),_:1}))}},fe=F(_e,[["__scopeId","data-v-6ff000d1"]]),be={__name:"UpdateBuyOrder",props:["ordercode"],setup(V){const t=h();R();const r=g([]);return Y(async()=>{let u=await H.get(M.getVendor);r.value=u.data.data.map(l=>({title:l.name,value:l.vendor_id}))}),(u,l)=>(p(),O(y,null,{default:a(()=>[e(s,{md:"6",lg:"12",cols:"12"},{default:a(()=>[e(q,null,{default:a(()=>[e(y,{"no-gutters":""},{default:a(()=>[e(s,{cols:"12",sm:"8",md:"12",lg:"6",order:"2","order-lg":"1"},{default:a(()=>[e(I,null,{default:a(()=>[e(T,null,{default:a(()=>[$("Customer")]),_:1})]),_:1}),e(k,null,{default:a(()=>[e(y,null,{default:a(()=>[e(s,{cols:"12",md:"6"},{default:a(()=>[e(w,{modelValue:d(t).updateOrder.vendor_id,"onUpdate:modelValue":l[0]||(l[0]=i=>d(t).updateOrder.vendor_id=i),items:r.value,label:"Customer Name",placeholder:"Customer Name"},null,8,["modelValue","items"])]),_:1}),e(s,{cols:"12",md:"6"},{default:a(()=>[e(_,{modelValue:d(t).updateOrder.customer_contact,"onUpdate:modelValue":l[1]||(l[1]=i=>d(t).updateOrder.customer_contact=i),label:"Contact No",placeholder:"Contact No"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(s,{cols:"12",sm:"4",md:"12",lg:"6",order:"1","order-lg":"2"},{default:a(()=>[e(I,null,{default:a(()=>[e(T,null,{default:a(()=>[$("Order")]),_:1})]),_:1}),e(k,null,{default:a(()=>[e(y,null,{default:a(()=>[e(s,{cols:"12",md:"6"},{default:a(()=>[e(_,{modelValue:d(t).updateOrder.order_code,"onUpdate:modelValue":l[2]||(l[2]=i=>d(t).updateOrder.order_code=i),label:"Order No",placeholder:"Order No",readonly:""},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",md:"6"},{default:a(()=>[e(_,{modelValue:d(t).updateOrder.order_date,"onUpdate:modelValue":l[3]||(l[3]=i=>d(t).updateOrder.order_date=i),label:"Order Date",placeholder:"Order Date",type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(I,null,{default:a(()=>[e(T,null,{default:a(()=>[$("Items")]),_:1})]),_:1}),e(k,null,{default:a(()=>[e(E)]),_:1}),e(ae),e(I,null,{default:a(()=>[e(X,{block:"",onClick:l[4]||(l[4]=i=>d(t).addUpdateProductItem())},{default:a(()=>[e(S,{size:"2rem",icon:"material-symbols:add-circle-outline-rounded"})]),_:1})]),_:1}),e(I,null,{default:a(()=>[e(fe)]),_:1}),e(I,null,{default:a(()=>[e(y,{class:"pa-x ma-x"},{default:a(()=>[e(s,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(s,{md:"6",lg:"4",cols:"12"},{default:a(()=>[e(y,null,{default:a(()=>[e(s,{md:"12",lg:"12",cols:"12",class:"text-center"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Ve=o("thead",null,[o("tr",null,[o("th",{class:"text-uppercase"}," Order ID "),o("th",{class:"text-center text-uppercase"}," Vendor Name "),o("th",{class:"text-center text-uppercase"}," Total Item "),o("th",{class:"text-center text-uppercase"}," Order Amount "),o("th",{class:"text-center text-uppercase"}," Charge "),o("th",{class:"text-center text-uppercase"}," Payable Amount "),o("th",{class:"text-center text-uppercase"}," Paid "),o("th",{class:"text-center text-uppercase"}," Balance "),o("th",{class:"text-center text-uppercase"}," Action ")])],-1),ye={class:"text-center"},xe={class:"text-center"},ve={class:"text-center"},Oe={class:"text-center"},Ie={class:"text-center"},ge={class:"text-center"},$e={class:"text-center"},Ue={class:"text-center"},Te=o("td",{colspan:"2",class:"text-center"}," Total ",-1),Ce={class:"text-center"},De={class:"text-center"},Se={class:"text-center"},he={class:"text-center"},ke={class:"text-center"},Be={class:"text-center"},Pe={__name:"BuyOrderList",setup(V){const t=R(),r=N(),u=h();async function l(b){await u.addUpdateOrder(b.order_code),await r.addTab({id:b.order_code,name:b.vendor_name})}function i(){t.getBuyOrderList()}return t.getBuyOrderList(),(b,x)=>(p(),O(y,{justify:"center"},{default:a(()=>[e(s,{cols:"12"},{default:a(()=>[e(q,null,{default:a(()=>[e(T,null,{default:a(()=>[e(y,null,{default:a(()=>[e(s,{cols:"8"},{default:a(()=>[$(" Order list ")]),_:1}),e(s,{cols:"4"},{default:a(()=>[e(_,{modelValue:d(t).buyReportDate,"onUpdate:modelValue":x[0]||(x[0]=n=>d(t).buyReportDate=n),label:"Order Date",placeholder:"Order Date",type:"date",onChange:i},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(B,null,{default:a(()=>[Ve,o("tbody",null,[(p(!0),v(C,null,D(d(t).buyOrderList.items,n=>(p(),v("tr",{key:n.order_code},[o("td",null,m(n.order_code),1),o("td",ye,m(n.vendor_name),1),o("td",xe,m(n.order_qty),1),o("td",ve,m(n.order_amount),1),o("td",Oe,m(n.charge),1),o("td",Ie,m(n.payable_amount),1),o("td",ge,m(n.paid),1),o("td",$e,m(n.balance),1),o("td",Ue,[e(S,{size:"1.5rem",icon:"tabler:edit",onClick:c=>l(n)},null,8,["onClick"]),e(S,{size:"1.5rem",icon:"ep:close-bold",onClick:c=>d(u).removeOrder(n.purchase_order_id)},null,8,["onClick"])])]))),128)),o("tr",null,[Te,o("td",Ce,m(d(t).buyOrderList.total_order_qty),1),o("td",De,m(d(t).buyOrderList.total_order_amount),1),o("td",Se,m(d(t).buyOrderList.total_charge),1),o("td",he,m(d(t).buyOrderList.total_payable_amount),1),o("td",ke,m(d(t).buyOrderList.total_paid),1),o("td",Be,m(d(t).buyOrderList.total_balance),1)])])]),_:1})]),_:1})]),_:1})]),_:1}))}},Le={key:0},Ne={key:1},qe={__name:"buy-order-list",setup(V){const t=N();return t.tabs=[],t.addTab({id:A.randomNumber(),name:"Buy Order List",componentType:"main"}),(r,u)=>(p(),v("div",null,[e(J,{modelValue:d(t).selectedTab,"onUpdate:modelValue":u[0]||(u[0]=l=>d(t).selectedTab=l),"show-arrows":""},{default:a(()=>[(p(!0),v(C,null,D(d(t).tabs,l=>(p(),O(G,{key:l.id,value:l.id},{default:a(()=>[e(S,{size:"20",start:"",icon:"la:list-alt"}),$(" "+m(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e(E),e(te,{modelValue:d(t).selectedTab,"onUpdate:modelValue":u[1]||(u[1]=l=>d(t).selectedTab=l),class:"mt-5 disable-tab-transition",touch:!1},{default:a(()=>[(p(!0),v(C,null,D(d(t).tabs,l=>(p(),O(ee,{key:l.id,value:l.id},{default:a(()=>[l.componentType=="main"?(p(),v("div",Le,[e(Pe)])):(p(),v("div",Ne,[e(be,{ordercode:l.id},null,8,["ordercode"])]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof L=="function"&&L(qe);export{qe as default};
