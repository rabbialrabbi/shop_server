import{aZ as W,U as x,ad as k,o as b,W as y,w as l,a as e,e as i,i as a,a0 as c,$ as V,c as U,F as P,a4 as T,bh as v,bi as z,a3 as D,b as m,bj as q,bk as Y,aY as j,a$ as E,b3 as H,b4 as M,X as R,bl as S,k as g,Y as I,_ as A,l as O,T as $,as as X,az as Z,t as G,m as N}from"./index.49b3a9ac.js";import{u as C}from"./buyOrders.094d971e.js";import{V as K}from"./VAutocomplete.9ed7f107.js";import"./moment.9709ab41.js";import{V as B,a as J,b as Q,c as h}from"./VWindowItem.50b03732.js";import"./report.fa395c02.js";import"./VSelect.17fce6d0.js";import"./VCheckboxBtn.cea21357.js";const ee={__name:"ItemInput",setup(f){const t=C(),p=W(),o=x(""),d=x(""),r=x(""),s=x("");return k(o,(u,n)=>{if(u){let _=p.productList.find(L=>L.product_id===u);t.item.product_id=o,t.item.unit_price=_.selling_price,d.value=1,r.value=_.selling_price,s.value=_.selling_price,t.updateProductData()}}),k(d,u=>{u&&(t.item.quantity=u,t.updateProductData(),s.value=t.item.total_price)}),k(r,u=>{u&&(t.item.unit_price=u,t.updateProductData(),s.value=t.item.total_price)}),(u,n)=>(b(),y(V,null,{default:l(()=>[e(i,{cols:"12",lg:"3"},{default:l(()=>[e(K,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=_=>o.value=_),items:a(p).getProductsSelect,label:"Product",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",lg:"3"},{default:l(()=>[e(c,{modelValue:d.value,"onUpdate:modelValue":n[1]||(n[1]=_=>d.value=_),label:"Unit Amount",placeholder:"Unit Amount",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",lg:"3"},{default:l(()=>[e(c,{modelValue:r.value,"onUpdate:modelValue":n[2]||(n[2]=_=>r.value=_),label:"Price",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",lg:"3"},{default:l(()=>[e(c,{modelValue:s.value,"onUpdate:modelValue":n[3]||(n[3]=_=>s.value=_),label:"Subtotal",variant:"underlined",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}))}},le={__name:"OrderItem",props:["tab"],setup(f){const p=f.tab,o=C();return(d,r)=>(b(),y(v,null,{default:l(()=>[(b(!0),U(P,null,T(a(o).orders[a(p)].items,(s,u)=>(b(),y(ee,{key:u,item:u,tab:a(p),onClick:n=>a(o).selectedItems=u},null,8,["item","tab","onClick"]))),128))]),_:1}))}};const w=f=>(q("data-v-d528bca0"),f=f(),Y(),f),te={class:"text-center"},ae={class:"text-center"},de={class:"text-center"},oe={class:"text-center"},ue=w(()=>m("td",null,"Total",-1)),re={class:"text-center"},ne=w(()=>m("td",null,"Pay",-1)),se={class:"text-center"},ie=w(()=>m("td",null,"Balance",-1)),me={class:"text-center"},ce={__name:"Subtotal",setup(f){const t=C();return(p,o)=>(b(),y(V,{class:"pa-x ma-x"},{default:l(()=>[e(i,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"},{default:l(()=>[e(D,null,{default:l(()=>[m("tbody",null,[m("tr",null,[m("td",te,[e(c,{modelValue:a(t).order.subtotal,"onUpdate:modelValue":o[0]||(o[0]=d=>a(t).order.subtotal=d),type:"number",variant:"underlined",class:"centered-input",label:"Subtotal",readonly:""},null,8,["modelValue"])]),m("td",ae,[e(c,{modelValue:a(t).order.charge,"onUpdate:modelValue":o[1]||(o[1]=d=>a(t).order.charge=d),onKeyup:o[2]||(o[2]=d=>a(t).updateProductData()),type:"number",variant:"underlined",class:"centered-input",label:"Charge"},null,8,["modelValue"])]),m("td",de,[e(c,{modelValue:a(t).order.discount,"onUpdate:modelValue":o[3]||(o[3]=d=>a(t).order.discount=d),onKeyup:o[4]||(o[4]=d=>a(t).updateProductData()),type:"number",class:"centered-input",variant:"underlined",label:"Discount"},null,8,["modelValue"])]),m("td",oe,[e(c,{modelValue:a(t).order.collection,"onUpdate:modelValue":o[5]||(o[5]=d=>a(t).order.collection=d),onKeyup:o[6]||(o[6]=d=>a(t).updateProductData()),type:"number",class:"centered-input",variant:"underlined",label:"Collection"},null,8,["modelValue"])])])])]),_:1})]),_:1}),e(i,{md:"6",lg:"4",cols:"12"},{default:l(()=>[e(D,null,{default:l(()=>[m("tbody",null,[m("tr",null,[ue,m("td",re,[e(c,{modelValue:a(t).order.total,"onUpdate:modelValue":o[7]||(o[7]=d=>a(t).order.total=d),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])]),m("tr",null,[ne,m("td",se,[e(c,{modelValue:a(t).order.pay,"onUpdate:modelValue":o[8]||(o[8]=d=>a(t).order.pay=d),onKeyup:o[9]||(o[9]=d=>a(t).updateBalance()),type:"number",placeholder:"Pay",variant:"solo-filled",class:"centered-input"},null,8,["modelValue"])])]),m("tr",null,[ie,m("td",me,[e(c,{modelValue:a(t).order.balance,"onUpdate:modelValue":o[10]||(o[10]=d=>a(t).order.balance=d),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])])])]),_:1})]),_:1})]),_:1}))}},pe=z(ce,[["__scopeId","data-v-d528bca0"]]),_e={__name:"CreateOrder",props:["index"],setup(f){const t=f;let p=j();const o=t.index,d=C(),r=x([]);return E(async()=>{let s=await H.get(M.getVendor);r.value=s.data.data.map(u=>({title:u.name,value:u.vendor_id}))}),(s,u)=>(b(),y(V,null,{default:l(()=>[e(i,{md:"6",lg:"12",cols:"12"},{default:l(()=>[e(R,null,{default:l(()=>[e(V,{"no-gutters":""},{default:l(()=>[e(i,{cols:"12",sm:"8",md:"12",lg:"6",order:"2","order-lg":"1"},{default:l(()=>[e(v,null,{default:l(()=>[e(S,null,{default:l(()=>[g("Buyer")]),_:1})]),_:1}),e(I,null,{default:l(()=>[e(V,null,{default:l(()=>[e(i,{cols:"12",md:"6"},{default:l(()=>[e(K,{modelValue:a(d).order.vendor_id,"onUpdate:modelValue":u[0]||(u[0]=n=>a(d).order.vendor_id=n),items:r.value,label:"Customer Name",placeholder:"Customer Name"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"6"},{default:l(()=>[e(c,{modelValue:s.firstName,"onUpdate:modelValue":u[1]||(u[1]=n=>s.firstName=n),label:"Contact No",placeholder:"Contact No"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",sm:"4",md:"12",lg:"6",order:"1","order-lg":"2"},{default:l(()=>[e(v,null,{default:l(()=>[e(S,null,{default:l(()=>[g("Order")]),_:1})]),_:1}),e(I,null,{default:l(()=>[e(V,null,{default:l(()=>[e(i,{cols:"12",md:"6"},{default:l(()=>[e(c,{modelValue:s.firstName,"onUpdate:modelValue":u[2]||(u[2]=n=>s.firstName=n),label:"Order No",placeholder:"Order No",readonly:""},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:l(()=>[e(c,{modelValue:a(d).order.order_date,"onUpdate:modelValue":u[3]||(u[3]=n=>a(d).order.order_date=n),label:"Order Date",placeholder:"Order Date",type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(S,null,{default:l(()=>[g("Items")]),_:1})]),_:1}),e(I,null,{default:l(()=>[e(A)]),_:1}),e(le,{tab:a(o)},null,8,["tab"]),e(v,null,{default:l(()=>[e(O,{block:"",onClick:u[4]||(u[4]=n=>a(d).addProductItem()),class:"bg-warning"},{default:l(()=>[e($,{size:"2rem",icon:"material-symbols:add-circle-outline-rounded"})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(pe)]),_:1}),X(e(v,null,{default:l(()=>[e(V,{class:"pa-x ma-x"},{default:l(()=>[e(i,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(i,{md:"6",lg:"4",cols:"12"},{default:l(()=>[e(V,null,{default:l(()=>[e(i,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:l(()=>[e(O,{class:"bg-warning"},{default:l(()=>[g(" Save ")]),_:1})]),_:1}),e(i,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:l(()=>[e(O,{class:"bg-success",onClick:u[5]||(u[5]=n=>a(d).payment())},{default:l(()=>[g(" Payment ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),[[Z,a(p).can("buy-order-create")]])]),_:1})]),_:1})]),_:1}))}};const F={__name:"buy-order",setup(f){const t=C();x("Hello");const p=t.orders;return(o,d)=>(b(),U("div",null,[e(J,{modelValue:a(t).activeTab,"onUpdate:modelValue":d[1]||(d[1]=r=>a(t).activeTab=r),"show-arrows":""},{default:l(()=>[(b(!0),U(P,null,T(a(p),(r,s)=>(b(),y(B,{key:r.name,value:r.tab,onClick:u=>a(t).selectTab(s),color:"warning"},{default:l(()=>[e($,{size:"20",start:"",icon:"lucide:user-round"}),g(" "+G(r.title),1)]),_:2},1032,["value","onClick"]))),128)),e(B,{value:"",onClick:d[0]||(d[0]=r=>a(t).addTab()),color:"warning"},{default:l(()=>[e($,{size:"20",start:"",icon:"iconoir:new-tab"})]),_:1})]),_:1},8,["modelValue"]),e(A),e(h,{modelValue:a(t).activeTab,"onUpdate:modelValue":d[2]||(d[2]=r=>a(t).activeTab=r),class:"mt-5 disable-tab-transition",touch:!1},{default:l(()=>[(b(!0),U(P,null,T(a(p),(r,s)=>(b(),y(Q,{key:r.tab,value:r.tab},{default:l(()=>[e(_e,{items:r.items,index:s},null,8,["items","index"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof N=="function"&&N(F);const Ue=z(F,[["__scopeId","data-v-923385d9"]]);export{Ue as default};
