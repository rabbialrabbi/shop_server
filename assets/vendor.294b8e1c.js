import{P as V,o as y,Q as P,w as t,a as e,e as u,R as D,S as L,Z as F,W as b,b1 as O,X as f,O as k,Y as U,b2 as M,b3 as A,bf as q,t as v,aY as j,aZ as p,b as n,$ as G,c as h,F as X,a0 as Z,aV as H,ap as g,aw as C,N,bu as S,aW as J,aX as W,U as Q,a3 as Y}from"./index.f5f13f42.js";import{V as B}from"./VForm.0cbde5a4.js";import{V as I}from"./VAutocomplete.5d78c808.js";import{V as K}from"./VTextarea.9711ff7d.js";import{V as $}from"./VDialog.a556b5e6.js";import{V as z,a as ee,b as E,c as te}from"./VWindowItem.2fd43b40.js";import"./VSelect.75276038.js";import"./VCheckboxBtn.01643a35.js";const le={__name:"AddVendor",setup(w){const i={name:null,contact_no:null,village:null,city:null,email:null,total_spend:null,total_due:null},d=V(structuredClone(i)),c=async()=>{try{const l=await M.post(A.createVendor,d.value);console.log(l.data),l.data.status&&(d.value=V(structuredClone(i)))}catch(l){console.log(l)}};return(l,o)=>(y(),P(b,{justify:"center"},{default:t(()=>[e(u,{cols:"12",md:"10"},{default:t(()=>[e(D,{title:"Add Vendor"},{default:t(()=>[e(L,null,{default:t(()=>[e(B,{onSubmit:o[7]||(o[7]=F(()=>{},["prevent"]))},{default:t(()=>[e(b,null,{default:t(()=>[e(u,{cols:"12",md:"3"},{default:t(()=>[e(O,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(u,{cols:"12",md:"9"},{default:t(()=>[e(u,{cols:"12"},{default:t(()=>[e(f,{modelValue:d.value.name,"onUpdate:modelValue":o[0]||(o[0]=a=>d.value.name=a),label:"Vendor Name",placeholder:"Vendor Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:t(()=>[e(f,{modelValue:d.value.contact_no,"onUpdate:modelValue":o[1]||(o[1]=a=>d.value.contact_no=a),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:t(()=>[e(b,null,{default:t(()=>[e(u,{cols:"6"},{default:t(()=>[e(f,{modelValue:d.value.village,"onUpdate:modelValue":o[2]||(o[2]=a=>d.value.village=a),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:t(()=>[e(I,{modelValue:d.value.city,"onUpdate:modelValue":o[3]||(o[3]=a=>d.value.city=a),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,{cols:"12"},{default:t(()=>[e(f,{modelValue:d.value.email,"onUpdate:modelValue":o[4]||(o[4]=a=>d.value.email=a),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:t(()=>[e(b,null,{default:t(()=>[e(u,{cols:"6"},{default:t(()=>[e(f,{modelValue:d.value.total_spend,"onUpdate:modelValue":o[5]||(o[5]=a=>d.value.total_spend=a),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:t(()=>[e(f,{modelValue:d.value.total_due,"onUpdate:modelValue":o[6]||(o[6]=a=>d.value.total_due=a),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(u,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(k,{type:"submit",onClick:c},{default:t(()=>[U(" Submit ")]),_:1}),e(k,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[U(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ae={__name:"VendorEdit",props:["vendor"],emits:["edit-modal-status"],setup(w,{emit:i}){const d=w,c=d.vendor,l=V(c),o=async()=>{try{const a=A.editVendor+"/"+d.vendor.vendor_id;(await M.put(a,l.value)).data.status&&i("edit-modal-status",!1)}catch(a){console.log(a)}};return(a,s)=>(y(),P(b,{justify:"center"},{default:t(()=>[e(u,{cols:"12",md:"10"},{default:t(()=>[e(D,{title:"Update Vendor"},{default:t(()=>[e(L,null,{default:t(()=>[e(B,{onSubmit:s[7]||(s[7]=F(()=>{},["prevent"]))},{default:t(()=>[e(b,null,{default:t(()=>[e(u,{cols:"12",md:"3"},{default:t(()=>[e(O,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(u,{cols:"12",md:"9"},{default:t(()=>[e(u,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.name,"onUpdate:modelValue":s[0]||(s[0]=r=>l.value.name=r),label:"Vendor Name",placeholder:"Vendor Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.contact_no,"onUpdate:modelValue":s[1]||(s[1]=r=>l.value.contact_no=r),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:t(()=>[e(b,null,{default:t(()=>[e(u,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.village,"onUpdate:modelValue":s[2]||(s[2]=r=>l.value.village=r),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:t(()=>[e(I,{modelValue:l.value.city,"onUpdate:modelValue":s[3]||(s[3]=r=>l.value.city=r),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.email,"onUpdate:modelValue":s[4]||(s[4]=r=>l.value.email=r),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:t(()=>[e(b,null,{default:t(()=>[e(u,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.total_spend,"onUpdate:modelValue":s[5]||(s[5]=r=>l.value.total_spend=r),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.total_due,"onUpdate:modelValue":s[6]||(s[6]=r=>l.value.total_due=r),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(u,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(k,{type:"submit",onClick:o},{default:t(()=>[U(" Submit ")]),_:1}),e(k,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[U(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},oe={__name:"VendorPayment",props:["vendor"],emits:["payment-modal-status"],setup(w,{emit:i}){const d=w;let c={amount:null,message:null};const l=V(structuredClone(c)),o=d.vendor,a=V(o),s=async()=>{try{const r=A.editVendor+"/"+d.vendor.vendor_id+"/payment";(await M.post(r,l.value)).data.status&&(l.value=V(o),i("payment-modal-status",!1))}catch(r){console.log(r)}};return(r,x)=>(y(),P(b,{justify:"center"},{default:t(()=>[e(u,{cols:"12",md:"10"},{default:t(()=>[e(D,null,{default:t(()=>[e(q,null,{default:t(()=>[U(v(a.value.name)+" Payment ",1)]),_:1}),e(L,null,{default:t(()=>[e(B,{onSubmit:x[3]||(x[3]=F(()=>{},["prevent"]))},{default:t(()=>[e(b,null,{default:t(()=>[e(u,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.amount,"onUpdate:modelValue":x[0]||(x[0]=_=>l.value.amount=_),label:"Amount",placeholder:"Amount",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:t(()=>[e(K,{modelValue:l.value.message,"onUpdate:modelValue":x[1]||(x[1]=_=>l.value.message=_),label:"Message",placeholder:"Message",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(k,{type:"submit",onClick:s},{default:t(()=>[U(" Submit ")]),_:1}),e(k,{type:"reset",color:"secondary",variant:"tonal",onClick:x[2]||(x[2]=_=>i("payment-modal-status",!1))},{default:t(()=>[U(" Close ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ne=n("thead",null,[n("tr",null,[n("th",{class:"text-uppercase"}," Transaction ID "),n("th",{class:"text-uppercase"}," Name "),n("th",{class:"text-uppercase"}," Ref "),n("th",{class:"text-center text-uppercase"}," Time "),n("th",{class:"text-center text-uppercase"}," Pre Amount "),n("th",{class:"text-center text-uppercase"}," Amount "),n("th",{class:"text-center text-uppercase"}," Final ")])],-1),ue={class:"text-center"},de={class:"text-center"},se={class:"text-center"},re={key:0},ie={key:1},ce={class:"text-center"},me={__name:"VendorPaymentHistory",props:["vendor"],setup(w){const d=w.vendor,c=V([]);return j(async()=>{let l=await M.get(A.getVendor+"/"+d.vendor_id+"/payment");c.value=l.data.data}),(l,o)=>(y(),P(b,{justify:"center"},{default:t(()=>[e(u,{cols:"12"},{default:t(()=>[e(D,null,{default:t(()=>[e(q,null,{default:t(()=>[U(v(p(d).name)+" ",1),n("span",null,v(c.value.current),1)]),_:1}),e(G,null,{default:t(()=>[ne,n("tbody",null,[(y(!0),h(X,null,Z(c.value.transaction,a=>(y(),h("tr",{key:a.transaction_id},[n("td",null,v(a.transaction_id),1),n("td",null,v(a.vendor_name),1),n("td",null,v(a.ref),1),n("td",ue,v(a.created_at),1),n("td",de,v(a.pre_amount),1),n("td",se,[a.type?(y(),h("span",re," + ")):(y(),h("span",ie," - ")),U(" "+v(a.amount),1)]),n("td",ce,v(a.post_amount),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}},pe=n("thead",null,[n("tr",null,[n("th",{class:"text-uppercase"}," Name "),n("th",{class:"text-center text-uppercase"}," Village "),n("th",{class:"text-center text-uppercase"}," Contact No "),n("th",{class:"text-center text-uppercase"}," Total Due "),n("th",{class:"text-center text-uppercase"}," Action ")])],-1),ve={class:"text-center"},_e={class:"text-center"},fe={class:"text-center"},Ve={class:"text-center"},ye={__name:"VendorList",setup(w){let i=H();const d=V([]),c=V("");let l=V(!1),o=V(!1),a=V(!1);function s(_){l.value=_}function r(_){o.value=_}function x(_){a.value=_}return j(async()=>{let _=await M.get(A.getVendor);d.value=_.data.data}),(_,T)=>(y(),P(b,{justify:"center"},{default:t(()=>[e(u,{cols:"12"},{default:t(()=>[e(D,{title:"Basic"},{default:t(()=>[e(G,null,{default:t(()=>[pe,n("tbody",null,[(y(!0),h(X,null,Z(d.value,m=>(y(),h("tr",{key:m.vendor_id},[n("td",null,v(m.name)+" - "+v(m.village),1),n("td",ve,v(m.village),1),n("td",_e,v(m.contact_no),1),n("td",fe,[g(n("span",null,v(m.total_due),513),[[C,p(i).can("vendor-due-view")]])]),n("td",Ve,[g(e(N,{size:"20",start:"",icon:"tabler:edit",onClick:R=>{c.value=m,S(l)?l.value=!0:l=!0}},null,8,["onClick"]),[[C,p(i).can("vendor-edit")]]),g(e(N,{size:"20",start:"",icon:"majesticons:money-line",onClick:R=>{c.value=m,S(o)?o.value=!0:o=!0}},null,8,["onClick"]),[[C,p(i).can("vendor-payment")]]),g(e(N,{size:"20",start:"",icon:"mdi-clipboard-text-history-outline",onClick:R=>{c.value=m,S(a)?a.value=!0:a=!0}},null,8,["onClick"]),[[C,p(i).can("vendor-history")]])])]))),128))])]),_:1}),g(e($,{modelValue:p(l),"onUpdate:modelValue":T[0]||(T[0]=m=>S(l)?l.value=m:l=m),width:"auto"},{default:t(()=>[e(ae,{vendor:c.value,onEditModalStatus:s},null,8,["vendor"])]),_:1},8,["modelValue"]),[[C,p(i).can("vendor-edit")]]),g(e($,{modelValue:p(o),"onUpdate:modelValue":T[1]||(T[1]=m=>S(o)?o.value=m:o=m),width:"auto"},{default:t(()=>[e(oe,{vendor:c.value,onPaymentModalStatus:r},null,8,["vendor"])]),_:1},8,["modelValue"]),[[C,p(i).can("vendor-payment")]]),g(e($,{modelValue:p(a),"onUpdate:modelValue":T[2]||(T[2]=m=>S(a)?a.value=m:a=m),width:"auto"},{default:t(()=>[e(me,{vendor:c.value,onPaymentHistoryModalStatus:x},null,8,["vendor"])]),_:1},8,["modelValue"]),[[C,p(i).can("vendor-history")]])]),_:1})]),_:1})]),_:1}))}},be=n("h1",null,"Hello",-1),xe={__name:"vendor",setup(w){let i=H();const d=J(),c=W();j(async()=>{await d.updateProductList()});function l(){c.updateCategoryList(),c.updateProductTypeList(),c.updateUnitTypeList()}const o=V("list");return(a,s)=>(y(),h("div",null,[e(ee,{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=r=>o.value=r),"show-arrows":""},{default:t(()=>[g(e(z,{value:"list"},{default:t(()=>[e(N,{size:"20",start:"",icon:"la:list-alt"}),U(" List ")]),_:1},512),[[C,p(i).can("vendor-list-view")]]),g(e(z,{value:"create",onClick:l},{default:t(()=>[e(N,{size:"20",start:"",icon:"uit:create-dashboard"}),U(" Create ")]),_:1},512),[[C,p(i).can("vendor-create")]])]),_:1},8,["modelValue"]),e(Q),e(te,{modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=r=>o.value=r),class:"mt-5 disable-tab-transition",touch:!1},{default:t(()=>[g(e(E,{value:"create"},{default:t(()=>[e(le)]),_:1},512),[[C,p(i).can("vendor-create")]]),g(e(E,{value:"list"},{default:t(()=>[e(ye)]),_:1},512),[[C,p(i).can("vendor-list-view")]]),e(E,{value:"test","onGroup:selected":p(d).updateProductList},{default:t(()=>[be]),_:1},8,["onGroup:selected"])]),_:1},8,["modelValue"])]))}};typeof Y=="function"&&Y(xe);export{xe as default};
