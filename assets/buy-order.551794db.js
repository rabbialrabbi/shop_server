import{aZ as L,U as $,ad as T,o as f,W as v,w as l,a as e,e as m,i as a,a0 as c,$ as V,c as C,F as D,a4 as I,bh as _,bi as z,a3 as S,b as p,t as U,aY as W,a$ as Y,b3 as E,b4 as H,X as M,bl as w,k as g,Y as O,_ as K,l as x,T as P,as as R,az as X,m as N}from"./index.20407f71.js";import{u as k}from"./buyOrders.ab37c42f.js";import{V as q}from"./VAutocomplete.8f917d0e.js";import"./moment.9709ab41.js";import{V as B,a as Z,b as j,c as G}from"./VWindowItem.88296c7d.js";import"./report.d1289f37.js";import"./VSelect.1e16402f.js";import"./VCheckboxBtn.406397c1.js";const J={__name:"ItemInput",setup(y){const t=k(),i=L(),u=$(null),d=$(""),n=$(""),r=$("");return T(u,(o,s)=>{if(o){let b=i.productList.find(F=>F.product_id===o);t.item.product_id=u,t.item.unit_price=b.selling_price,d.value=1,n.value=b.selling_price,r.value=b.selling_price,t.updateProductData()}}),T(d,o=>{o&&(t.item.quantity=o,t.updateProductData(),r.value=t.item.total_price)}),T(n,o=>{o&&(t.item.unit_price=o,t.updateProductData(),r.value=t.item.total_price)}),(o,s)=>(f(),v(V,null,{default:l(()=>[e(m,{cols:"12",lg:"3"},{default:l(()=>[e(q,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=b=>u.value=b),items:a(i).getProductsSelect,label:o.$t("product"),variant:"underlined"},null,8,["modelValue","items","label"])]),_:1}),e(m,{cols:"12",lg:"3"},{default:l(()=>[e(c,{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=b=>d.value=b),label:o.$t("quantity"),placeholder:"Unit Amount",variant:"underlined"},null,8,["modelValue","label"])]),_:1}),e(m,{cols:"12",lg:"3"},{default:l(()=>[e(c,{modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=b=>n.value=b),label:o.$t("price"),variant:"underlined"},null,8,["modelValue","label"])]),_:1}),e(m,{cols:"12",lg:"3"},{default:l(()=>[e(c,{modelValue:r.value,"onUpdate:modelValue":s[3]||(s[3]=b=>r.value=b),label:o.$t("subtotal"),variant:"underlined",readonly:""},null,8,["modelValue","label"])]),_:1})]),_:1}))}},Q={__name:"OrderItem",props:["tab"],setup(y){const i=y.tab,u=k();return(d,n)=>(f(),v(_,null,{default:l(()=>[(f(!0),C(D,null,I(a(u).orders[a(i)].items,(r,o)=>(f(),v(J,{key:o,item:o,tab:a(i),onClick:s=>a(u).selectedItems=o},null,8,["item","tab","onClick"]))),128))]),_:1}))}};const h={class:"text-center"},ee={class:"text-center"},le={class:"text-center"},te={class:"text-center"},ae={class:"text-center"},de={class:"text-center"},oe={class:"text-center"},ue={__name:"Subtotal",setup(y){const t=k();return(i,u)=>(f(),v(V,{class:"pa-x ma-x"},{default:l(()=>[e(m,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"},{default:l(()=>[e(S,null,{default:l(()=>[p("tbody",null,[p("tr",null,[p("td",h,[e(c,{modelValue:a(t).order.subtotal,"onUpdate:modelValue":u[0]||(u[0]=d=>a(t).order.subtotal=d),type:"number",variant:"underlined",class:"centered-input",label:i.$t("subtotal"),readonly:""},null,8,["modelValue","label"])]),p("td",ee,[e(c,{modelValue:a(t).order.charge,"onUpdate:modelValue":u[1]||(u[1]=d=>a(t).order.charge=d),onKeyup:u[2]||(u[2]=d=>a(t).updateProductData()),type:"number",variant:"underlined",class:"centered-input",label:i.$t("charge")},null,8,["modelValue","label"])]),p("td",le,[e(c,{modelValue:a(t).order.discount,"onUpdate:modelValue":u[3]||(u[3]=d=>a(t).order.discount=d),onKeyup:u[4]||(u[4]=d=>a(t).updateProductData()),type:"number",class:"centered-input",variant:"underlined",label:i.$t("discount")},null,8,["modelValue","label"])]),p("td",te,[e(c,{modelValue:a(t).order.collection,"onUpdate:modelValue":u[5]||(u[5]=d=>a(t).order.collection=d),onKeyup:u[6]||(u[6]=d=>a(t).updateProductData()),type:"number",class:"centered-input",variant:"underlined",label:i.$t("collection")},null,8,["modelValue","label"])])])])]),_:1})]),_:1}),e(m,{md:"6",lg:"4",cols:"12"},{default:l(()=>[e(S,null,{default:l(()=>[p("tbody",null,[p("tr",null,[p("td",null,U(i.$t("total")),1),p("td",ae,[e(c,{modelValue:a(t).order.total,"onUpdate:modelValue":u[7]||(u[7]=d=>a(t).order.total=d),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])]),p("tr",null,[p("td",null,U(i.$t("pay")),1),p("td",de,[e(c,{modelValue:a(t).order.pay,"onUpdate:modelValue":u[8]||(u[8]=d=>a(t).order.pay=d),onKeyup:u[9]||(u[9]=d=>a(t).updateBalance()),type:"number",placeholder:"Pay",variant:"solo-filled",class:"centered-input"},null,8,["modelValue"])])]),p("tr",null,[p("td",null,U(i.$t("balance")),1),p("td",oe,[e(c,{modelValue:a(t).order.balance,"onUpdate:modelValue":u[10]||(u[10]=d=>a(t).order.balance=d),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])])])]),_:1})]),_:1})]),_:1}))}},re=z(ue,[["__scopeId","data-v-14dfc54e"]]),ne={__name:"CreateOrder",props:["index"],setup(y){const t=y;let i=W();const u=t.index,d=k(),n=$([]);return Y(async()=>{let r=await E.get(H.getVendor);n.value=r.data.data.map(o=>({title:o.name,value:o.vendor_id}))}),(r,o)=>(f(),v(V,null,{default:l(()=>[e(m,{md:"6",lg:"12",cols:"12"},{default:l(()=>[e(M,null,{default:l(()=>[e(V,{"no-gutters":""},{default:l(()=>[e(m,{cols:"12",sm:"8",md:"12",lg:"6",order:"2","order-lg":"1"},{default:l(()=>[e(_,null,{default:l(()=>[e(w,null,{default:l(()=>[g(U(r.$t("buyer")),1)]),_:1})]),_:1}),e(O,null,{default:l(()=>[e(V,null,{default:l(()=>[e(m,{cols:"12",md:"6"},{default:l(()=>[e(q,{modelValue:a(d).order.vendor_id,"onUpdate:modelValue":o[0]||(o[0]=s=>a(d).order.vendor_id=s),items:n.value,label:r.$t("buyer_name"),placeholder:"Customer Name"},null,8,["modelValue","items","label"])]),_:1}),e(m,{cols:"12",md:"6"},{default:l(()=>[e(c,{modelValue:r.firstName,"onUpdate:modelValue":o[1]||(o[1]=s=>r.firstName=s),label:r.$t("contact_no"),placeholder:"Contact No"},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",sm:"4",md:"12",lg:"6",order:"1","order-lg":"2"},{default:l(()=>[e(_,null,{default:l(()=>[e(w,null,{default:l(()=>[g("Order")]),_:1})]),_:1}),e(O,null,{default:l(()=>[e(V,null,{default:l(()=>[e(m,{cols:"12",md:"6"},{default:l(()=>[e(c,{modelValue:r.firstName,"onUpdate:modelValue":o[2]||(o[2]=s=>r.firstName=s),label:r.$t("order_date"),placeholder:"Order No",readonly:""},null,8,["modelValue","label"])]),_:1}),e(m,{cols:"12",md:"6"},{default:l(()=>[e(c,{modelValue:a(d).order.order_date,"onUpdate:modelValue":o[3]||(o[3]=s=>a(d).order.order_date=s),label:r.$t("order_date"),placeholder:"Order Date",type:"date"},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(w,null,{default:l(()=>[g("Items")]),_:1})]),_:1}),e(O,null,{default:l(()=>[e(K)]),_:1}),e(Q,{tab:a(u)},null,8,["tab"]),e(_,null,{default:l(()=>[e(x,{block:"",onClick:o[4]||(o[4]=s=>a(d).addProductItem()),class:"bg-warning"},{default:l(()=>[e(P,{size:"2rem",icon:"material-symbols:add-circle-outline-rounded"})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(re)]),_:1}),R(e(_,null,{default:l(()=>[e(V,{class:"pa-x ma-x"},{default:l(()=>[e(m,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(m,{md:"6",lg:"4",cols:"12"},{default:l(()=>[e(V,null,{default:l(()=>[e(m,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:l(()=>[e(x,{class:"bg-warning"},{default:l(()=>[g(" Save ")]),_:1})]),_:1}),e(m,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:l(()=>[e(x,{class:"bg-success",onClick:o[5]||(o[5]=s=>a(d).payment())},{default:l(()=>[g(" Payment ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),[[X,a(i).can("buy-order-create")]])]),_:1})]),_:1})]),_:1}))}};const A={__name:"buy-order",setup(y){const t=k();$("Hello");const i=t.orders;return(u,d)=>(f(),C("div",null,[e(Z,{modelValue:a(t).activeTab,"onUpdate:modelValue":d[1]||(d[1]=n=>a(t).activeTab=n),"show-arrows":""},{default:l(()=>[(f(!0),C(D,null,I(a(i),(n,r)=>(f(),v(B,{key:n.name,value:n.tab,onClick:o=>a(t).selectTab(r),color:"warning"},{default:l(()=>[e(P,{size:"20",start:"",icon:"lucide:user-round"}),g(" "+U(n.title),1)]),_:2},1032,["value","onClick"]))),128)),e(B,{value:"",onClick:d[0]||(d[0]=n=>a(t).addTab()),color:"warning"},{default:l(()=>[e(P,{size:"20",start:"",icon:"iconoir:new-tab"})]),_:1})]),_:1},8,["modelValue"]),e(K),e(G,{modelValue:a(t).activeTab,"onUpdate:modelValue":d[2]||(d[2]=n=>a(t).activeTab=n),class:"mt-5 disable-tab-transition",touch:!1},{default:l(()=>[(f(!0),C(D,null,I(a(i),(n,r)=>(f(),v(j,{key:n.tab,value:n.tab},{default:l(()=>[e(ne,{items:n.items,index:r},null,8,["items","index"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof N=="function"&&N(A);const _e=z(A,[["__scopeId","data-v-923385d9"]]);export{_e as default};
