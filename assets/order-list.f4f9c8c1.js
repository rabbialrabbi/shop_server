import{aV as S,o as d,Q as h,w as n,a as r,e as p,R as $,bf as B,W as L,Y as k,X as N,aZ as e,$ as R,b as t,c as i,F as f,a0 as b,t as s,ap as m,aw as x,N as v,U,a3 as O}from"./index.71bb308e.js";import{u as g}from"./report.7bf3eefe.js";import{u as w,h as A,_ as I}from"./UpdateOrder.17453911.js";import"./moment.9709ab41.js";import{u as C}from"./sellsOrders.46a78b96.js";import{V as P,a as F,b as W,c as z}from"./VWindowItem.6c27eed5.js";import"./VAutocomplete.7737ec6c.js";import"./VSelect.d3481141.js";import"./VCheckboxBtn.b2e8ef07.js";const Q=t("thead",null,[t("tr",null,[t("th",{class:"text-uppercase"}," Order ID "),t("th",{class:"text-center text-uppercase"}," Customer Name "),t("th",{class:"text-center text-uppercase"}," Total Item "),t("th",{class:"text-center text-uppercase"}," Order Amount "),t("th",{class:"text-center text-uppercase"}," Labour "),t("th",{class:"text-center text-uppercase"}," Discount "),t("th",{class:"text-center text-uppercase"}," Collection "),t("th",{class:"text-center text-uppercase"}," Paid "),t("th",{class:"text-center text-uppercase"}," Balance "),t("th",{class:"text-center text-uppercase"}," Profit "),t("th",{class:"text-center text-uppercase"}," Action ")])],-1),j={class:"text-center"},q={class:"text-center"},E={class:"text-center"},X={class:"text-center"},Y={class:"text-center"},Z={class:"text-center"},G={class:"text-center"},H={class:"text-center"},J={class:"text-center"},K={class:"text-center"},M=t("td",{colspan:"2",class:"text-center"}," Total ",-1),tt={class:"text-center"},et={class:"text-center"},st={class:"text-center"},at={class:"text-center"},ot={class:"text-center"},rt={class:"text-center"},lt={class:"text-center"},ct={class:"text-center"},nt={__name:"SalesOrderList",setup(D){let c=S();const a=g(),V=w(),u=C();async function o(_){await u.addUpdateOrder(_.order_code),await V.addTab({id:_.order_code,name:_.customer_name})}function T(){a.getOrderList()}return a.getOrderList(),(_,y)=>(d(),h(L,{justify:"center"},{default:n(()=>[r(p,{cols:"12"},{default:n(()=>[r($,null,{default:n(()=>[r(B,null,{default:n(()=>[r(L,null,{default:n(()=>[r(p,{cols:"8"},{default:n(()=>[k(" Order list ")]),_:1}),r(p,{cols:"4"},{default:n(()=>[r(N,{modelValue:e(a).salesReportDate,"onUpdate:modelValue":y[0]||(y[0]=l=>e(a).salesReportDate=l),label:"Order Date",placeholder:"Order Date",type:"date",onChange:T},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(R,null,{default:n(()=>[Q,t("tbody",null,[(d(!0),i(f,null,b(e(a).salesOrderList.items,l=>(d(),i("tr",{key:l.order_code},[t("td",null,s(l.order_code),1),t("td",j,s(l.customer_name),1),t("td",q,s(l.order_qty),1),t("td",E,s(l.order_payable_amount),1),t("td",X,s(l.labour),1),t("td",Y,s(l.discount),1),t("td",Z,s(l.collection),1),t("td",G,s(l.paid),1),t("td",H,s(l.balance),1),t("td",J,[m(t("span",null,s(l.profit),513),[[x,e(c).can("report-sales-order-profit")]])]),t("td",K,[m(r(v,{size:"1.5rem",icon:"tabler:edit",onClick:_t=>o(l)},null,8,["onClick"]),[[x,e(c).can("report-sales-order-edit")]])])]))),128)),t("tr",null,[M,t("td",tt,s(e(a).salesOrderList.totalOrderQty),1),t("td",et,s(e(a).salesOrderList.totalOrderAmount),1),t("td",st,s(e(a).salesOrderList.totalLabour),1),t("td",at,s(e(a).salesOrderList.totalDiscount),1),t("td",ot,s(e(a).salesOrderList.totalCollection),1),t("td",rt,s(e(a).salesOrderList.totalPaid),1),t("td",lt,s(e(a).salesOrderList.totalBalance),1),t("td",ct,[m(t("span",null,s(e(a).salesOrderList.totalProfit),513),[[x,e(c).can("report-sales-order-profit")]])])])])]),_:1})]),_:1})]),_:1})]),_:1}))}},dt={key:0},it={key:1},ut={__name:"order-list",setup(D){const c=w(),a=C();return c.tabs=[],c.addTab({id:A.randomNumber(),name:"Order List",componentType:"main"}),(V,u)=>(d(),i("div",null,[r(F,{modelValue:e(c).selectedTab,"onUpdate:modelValue":u[0]||(u[0]=o=>e(c).selectedTab=o),"show-arrows":""},{default:n(()=>[(d(!0),i(f,null,b(e(c).tabs,o=>(d(),h(P,{key:o.id,value:o.id,onClick:T=>e(a).addUpdateOrder(o.id)},{default:n(()=>[r(v,{size:"20",start:"",icon:"la:list-alt"}),k(" "+s(o.name),1)]),_:2},1032,["value","onClick"]))),128))]),_:1},8,["modelValue"]),r(U),r(z,{modelValue:e(c).selectedTab,"onUpdate:modelValue":u[1]||(u[1]=o=>e(c).selectedTab=o),class:"mt-5 disable-tab-transition",touch:!1},{default:n(()=>[(d(!0),i(f,null,b(e(c).tabs,o=>(d(),h(W,{key:o.id,value:o.id},{default:n(()=>[o.componentType=="main"?(d(),i("div",dt,[r(nt)])):(d(),i("div",it,[r(I,{ordercode:o.id},null,8,["ordercode"])]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof O=="function"&&O(ut);export{ut as default};
