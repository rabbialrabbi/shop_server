import{aV as $,o as d,Q as h,w as n,a,e as p,R as B,bk as N,W as L,Y as C,X as R,aZ as e,$ as U,b as t,c as u,F as f,a0 as b,t as s,ap as m,aw as x,N as V,U as g,a3 as v}from"./index.24ce2781.js";import{u as A}from"./report.a47ace16.js";import{u as O,h as I}from"./tab.ed4365be.js";import"./moment.9709ab41.js";import{u as w}from"./sellsOrders.afab77f6.js";import{_ as P}from"./UpdateOrder.7842b16e.js";import{V as z,a as F,b as W,c as Q}from"./VWindowItem.64e4e372.js";import"./VAutocomplete.1567798f.js";import"./VSelect.008f7a26.js";import"./VCheckboxBtn.5fb0b5d8.js";const j=t("thead",null,[t("tr",null,[t("th",{class:"text-uppercase"}," Order ID "),t("th",{class:"text-center text-uppercase"}," Customer Name "),t("th",{class:"text-center text-uppercase"}," Total Item "),t("th",{class:"text-center text-uppercase"}," Order Amount "),t("th",{class:"text-center text-uppercase"}," Labour "),t("th",{class:"text-center text-uppercase"}," Discount "),t("th",{class:"text-center text-uppercase"}," Collection "),t("th",{class:"text-center text-uppercase"}," Paid "),t("th",{class:"text-center text-uppercase"}," Balance "),t("th",{class:"text-center text-uppercase"}," Profit "),t("th",{class:"text-center text-uppercase"}," Action ")])],-1),q={class:"text-center"},E={class:"text-center"},X={class:"text-center"},Y={class:"text-center"},Z={class:"text-center"},G={class:"text-center"},H={class:"text-center"},J={class:"text-center"},K={class:"text-center"},M={class:"text-center"},tt=t("td",{colspan:"2",class:"text-center"}," Total ",-1),et={class:"text-center"},st={class:"text-center"},at={class:"text-center"},ot={class:"text-center"},rt={class:"text-center"},lt={class:"text-center"},ct={class:"text-center"},nt={class:"text-center"},dt={__name:"SalesOrderList",setup(D){let c=$();const o=A(),T=O(),i=w();async function r(_){await i.addUpdateOrder(_.order_code),await T.addTab({id:_.order_code,name:_.customer_name})}function k(){o.getOrderList()}return o.getOrderList(),(_,y)=>(d(),h(L,{justify:"center"},{default:n(()=>[a(p,{cols:"12"},{default:n(()=>[a(B,null,{default:n(()=>[a(N,null,{default:n(()=>[a(L,null,{default:n(()=>[a(p,{cols:"8"},{default:n(()=>[C(" Order list ")]),_:1}),a(p,{cols:"4"},{default:n(()=>[a(R,{modelValue:e(o).salesReportDate,"onUpdate:modelValue":y[0]||(y[0]=l=>e(o).salesReportDate=l),label:"Order Date",placeholder:"Order Date",type:"date",onChange:k},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(U,null,{default:n(()=>[j,t("tbody",null,[(d(!0),u(f,null,b(e(o).salesOrderList.items,l=>(d(),u("tr",{key:l.order_code},[t("td",null,s(l.order_code),1),t("td",q,s(l.customer_name),1),t("td",E,s(l.order_qty),1),t("td",X,s(l.order_payable_amount),1),t("td",Y,s(l.labour),1),t("td",Z,s(l.discount),1),t("td",G,s(l.collection),1),t("td",H,s(l.paid),1),t("td",J,s(l.balance),1),t("td",K,[m(t("span",null,s(l.profit),513),[[x,e(c).can("report-sales-order-profit")]])]),t("td",M,[m(a(V,{size:"1.5rem",icon:"tabler:edit",onClick:S=>r(l)},null,8,["onClick"]),[[x,e(c).can("report-sales-order-edit")]]),a(V,{size:"1.5rem",icon:"ep:close-bold",onClick:S=>e(i).removeOrder(l.sales_order_id)},null,8,["onClick"])])]))),128)),t("tr",null,[tt,t("td",et,s(e(o).salesOrderList.totalOrderQty),1),t("td",st,s(e(o).salesOrderList.totalOrderAmount),1),t("td",at,s(e(o).salesOrderList.totalLabour),1),t("td",ot,s(e(o).salesOrderList.totalDiscount),1),t("td",rt,s(e(o).salesOrderList.totalCollection),1),t("td",lt,s(e(o).salesOrderList.totalPaid),1),t("td",ct,s(e(o).salesOrderList.totalBalance),1),t("td",nt,[m(t("span",null,s(e(o).salesOrderList.totalProfit),513),[[x,e(c).can("report-sales-order-profit")]])])])])]),_:1})]),_:1})]),_:1})]),_:1}))}},it={key:0},ut={key:1},_t={__name:"order-list",setup(D){const c=O(),o=w();return c.tabs=[],c.addTab({id:I.randomNumber(),name:"Order List",componentType:"main"}),(T,i)=>(d(),u("div",null,[a(F,{modelValue:e(c).selectedTab,"onUpdate:modelValue":i[0]||(i[0]=r=>e(c).selectedTab=r),"show-arrows":""},{default:n(()=>[(d(!0),u(f,null,b(e(c).tabs,r=>(d(),h(z,{key:r.id,value:r.id,onClick:k=>e(o).addUpdateOrder(r.id)},{default:n(()=>[a(V,{size:"20",start:"",icon:"la:list-alt"}),C(" "+s(r.name),1)]),_:2},1032,["value","onClick"]))),128))]),_:1},8,["modelValue"]),a(g),a(Q,{modelValue:e(c).selectedTab,"onUpdate:modelValue":i[1]||(i[1]=r=>e(c).selectedTab=r),class:"mt-5 disable-tab-transition",touch:!1},{default:n(()=>[(d(!0),u(f,null,b(e(c).tabs,r=>(d(),h(W,{key:r.id,value:r.id},{default:n(()=>[r.componentType=="main"?(d(),u("div",it,[a(dt)])):(d(),u("div",ut,[a(P,{ordercode:r.id},null,8,["ordercode"])]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof v=="function"&&v(_t);export{_t as default};
