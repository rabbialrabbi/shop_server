import{U as y,o as b,W as P,w as t,a as e,e as o,X as N,Y as L,a1 as j,$ as x,j as G,a0 as V,l as k,k as U,b3 as M,b4 as $,bl as O,t as _,i as v,a$ as F,b as u,a3 as H,c as w,F as X,a4 as Z,aY as I,as as g,az as C,T as D,bC as S,aZ as J,a_ as W,_ as K,m as R}from"./index.bc5f5d14.js";import{V as z}from"./VForm.fcd847b2.js";import{V as B}from"./VAutocomplete.7b60ac8d.js";import{V as Q}from"./VTextarea.de486692.js";import{V as A}from"./VDialog.e9833073.js";import{V as q,a as ee,b as E,c as te}from"./VWindowItem.f561eec7.js";import"./VSelect.e271dfb6.js";import"./VCheckboxBtn.6c13098b.js";const le={__name:"AddVendor",setup(T){const r={name:null,contact_no:null,village:null,city:null,email:null,total_spend:null,total_due:null},d=y(structuredClone(r)),c=async()=>{try{(await M.post($.createVendor,d.value)).data.status&&(d.value=y(structuredClone(r)))}catch(n){console.log(n)}};return(n,l)=>(b(),P(x,{justify:"center"},{default:t(()=>[e(o,{cols:"12",md:"10"},{default:t(()=>[e(N,{title:"Add Vendor"},{default:t(()=>[e(L,null,{default:t(()=>[e(z,{onSubmit:l[7]||(l[7]=j(()=>{},["prevent"]))},{default:t(()=>[e(x,null,{default:t(()=>[e(o,{cols:"12",md:"3"},{default:t(()=>[e(G,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(o,{cols:"12",md:"9"},{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(V,{modelValue:d.value.name,"onUpdate:modelValue":l[0]||(l[0]=a=>d.value.name=a),label:"Vendor Name",placeholder:"Vendor Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(V,{modelValue:d.value.contact_no,"onUpdate:modelValue":l[1]||(l[1]=a=>d.value.contact_no=a),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(x,null,{default:t(()=>[e(o,{cols:"6"},{default:t(()=>[e(V,{modelValue:d.value.village,"onUpdate:modelValue":l[2]||(l[2]=a=>d.value.village=a),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(o,{cols:"6"},{default:t(()=>[e(B,{modelValue:d.value.city,"onUpdate:modelValue":l[3]||(l[3]=a=>d.value.city=a),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(V,{modelValue:d.value.email,"onUpdate:modelValue":l[4]||(l[4]=a=>d.value.email=a),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(x,null,{default:t(()=>[e(o,{cols:"6"},{default:t(()=>[e(V,{modelValue:d.value.total_spend,"onUpdate:modelValue":l[5]||(l[5]=a=>d.value.total_spend=a),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(o,{cols:"6"},{default:t(()=>[e(V,{modelValue:d.value.total_due,"onUpdate:modelValue":l[6]||(l[6]=a=>d.value.total_due=a),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(o,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(k,{type:"submit",onClick:c},{default:t(()=>[U(" Submit ")]),_:1}),e(k,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[U(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ae={__name:"VendorEdit",props:["vendor"],emits:["edit-modal-status"],setup(T,{emit:r}){const d=T,c=d.vendor,n=y(c),l=async()=>{try{const a=$.editVendor+"/"+d.vendor.vendor_id;(await M.put(a,n.value)).data.status&&r("edit-modal-status",!1)}catch(a){console.log(a)}};return(a,s)=>(b(),P(x,{justify:"center"},{default:t(()=>[e(o,{cols:"12",md:"10"},{default:t(()=>[e(N,{title:"Update Vendor"},{default:t(()=>[e(L,null,{default:t(()=>[e(z,{onSubmit:s[7]||(s[7]=j(()=>{},["prevent"]))},{default:t(()=>[e(x,null,{default:t(()=>[e(o,{cols:"12",md:"3"},{default:t(()=>[e(G,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(o,{cols:"12",md:"9"},{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(V,{modelValue:n.value.name,"onUpdate:modelValue":s[0]||(s[0]=i=>n.value.name=i),label:"Vendor Name",placeholder:"Vendor Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(V,{modelValue:n.value.contact_no,"onUpdate:modelValue":s[1]||(s[1]=i=>n.value.contact_no=i),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(x,null,{default:t(()=>[e(o,{cols:"6"},{default:t(()=>[e(V,{modelValue:n.value.village,"onUpdate:modelValue":s[2]||(s[2]=i=>n.value.village=i),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(o,{cols:"6"},{default:t(()=>[e(B,{modelValue:n.value.city,"onUpdate:modelValue":s[3]||(s[3]=i=>n.value.city=i),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(V,{modelValue:n.value.email,"onUpdate:modelValue":s[4]||(s[4]=i=>n.value.email=i),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(x,null,{default:t(()=>[e(o,{cols:"6"},{default:t(()=>[e(V,{modelValue:n.value.total_spend,"onUpdate:modelValue":s[5]||(s[5]=i=>n.value.total_spend=i),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(o,{cols:"6"},{default:t(()=>[e(V,{modelValue:n.value.total_due,"onUpdate:modelValue":s[6]||(s[6]=i=>n.value.total_due=i),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(o,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(k,{type:"submit",onClick:l},{default:t(()=>[U(" Submit ")]),_:1}),e(k,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[U(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ne={__name:"VendorPayment",props:["vendor"],emits:["payment-modal-status"],setup(T,{emit:r}){const d=T;let c=[{title:"Deposit",value:1},{title:"Due",value:0}],n={amount:null,payment_type:1,message:null};const l=y(structuredClone(n)),a=d.vendor,s=y(a),i=async()=>{try{const h=$.editVendor+"/"+d.vendor.vendor_id+"/payment";(await M.post(h,l.value)).data.status&&(l.value=y(a),r("payment-modal-status",!1))}catch(h){console.log(h)}};return(h,m)=>(b(),P(x,{justify:"center"},{default:t(()=>[e(o,{cols:"12",md:"10"},{default:t(()=>[e(N,null,{default:t(()=>[e(O,null,{default:t(()=>[U(_(s.value.name)+" Payment ",1)]),_:1}),e(L,null,{default:t(()=>[e(z,{onSubmit:m[4]||(m[4]=j(()=>{},["prevent"]))},{default:t(()=>[e(x,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(B,{modelValue:l.value.payment_type,"onUpdate:modelValue":m[0]||(m[0]=f=>l.value.payment_type=f),items:v(c),label:"Product Type",placeholder:"Product Type",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(V,{modelValue:l.value.amount,"onUpdate:modelValue":m[1]||(m[1]=f=>l.value.amount=f),label:"Amount",placeholder:"Amount",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(Q,{modelValue:l.value.message,"onUpdate:modelValue":m[2]||(m[2]=f=>l.value.message=f),label:"Message",placeholder:"Message",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(k,{type:"submit",onClick:i},{default:t(()=>[U(" Submit ")]),_:1}),e(k,{type:"reset",color:"secondary",variant:"tonal",onClick:m[3]||(m[3]=f=>r("payment-modal-status",!1))},{default:t(()=>[U(" Close ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},oe=u("thead",null,[u("tr",null,[u("th",{class:"text-uppercase"}," Transaction ID "),u("th",{class:"text-uppercase"}," Name "),u("th",{class:"text-uppercase"}," Ref "),u("th",{class:"text-center text-uppercase"}," Time "),u("th",{class:"text-center text-uppercase"}," Pre Amount "),u("th",{class:"text-center text-uppercase"}," Amount "),u("th",{class:"text-center text-uppercase"}," Final ")])],-1),ue={class:"text-center"},de={class:"text-center"},se={class:"text-center"},re={key:0},ie={key:1},ce={class:"text-center"},me={__name:"VendorPaymentHistory",props:["vendor"],setup(T){const d=T.vendor,c=y([]);return F(async()=>{let n=await M.get($.getVendor+"/"+d.vendor_id+"/payment");c.value=n.data.data}),(n,l)=>(b(),P(x,{justify:"center"},{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(N,null,{default:t(()=>[e(O,null,{default:t(()=>[U(_(v(d).name)+" ",1),u("span",null,_(c.value.current),1)]),_:1}),e(H,null,{default:t(()=>[oe,u("tbody",null,[(b(!0),w(X,null,Z(c.value.transaction,a=>(b(),w("tr",{key:a.transaction_id},[u("td",null,_(a.transaction_id),1),u("td",null,_(a.vendor_name),1),u("td",null,_(a.ref),1),u("td",ue,_(a.created_at),1),u("td",de,_(a.pre_amount),1),u("td",se,[a.type?(b(),w("span",re," + ")):(b(),w("span",ie," - ")),U(" "+_(a.amount),1)]),u("td",ce,_(a.post_amount),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}},pe=u("thead",null,[u("tr",null,[u("th",{class:"text-uppercase"}," Name "),u("th",{class:"text-center text-uppercase"}," Village "),u("th",{class:"text-center text-uppercase"}," Contact No "),u("th",{class:"text-center text-uppercase"}," Total Due "),u("th",{class:"text-center text-uppercase"}," Action ")])],-1),ve={class:"text-center"},_e={class:"text-center"},fe={class:"text-center"},Ve={class:"text-center"},ye={__name:"VendorList",setup(T){let r=I();const d=y([]),c=y("");let n=y(!1),l=y(!1),a=y(!1);function s(m){n.value=m}function i(m){l.value=m}function h(m){a.value=m}return F(async()=>{let m=await M.get($.getVendor);d.value=m.data.data}),(m,f)=>(b(),P(x,{justify:"center"},{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(N,{title:"Basic"},{default:t(()=>[e(H,null,{default:t(()=>[pe,u("tbody",null,[(b(!0),w(X,null,Z(d.value,p=>(b(),w("tr",{key:p.vendor_id},[u("td",null,_(p.name)+" - "+_(p.village),1),u("td",ve,_(p.village),1),u("td",_e,_(p.contact_no),1),u("td",fe,[g(u("span",null,_(p.total_due),513),[[C,v(r).can("vendor-due-view")]])]),u("td",Ve,[g(e(D,{size:"20",start:"",icon:"tabler:edit",onClick:Y=>{c.value=p,S(n)?n.value=!0:n=!0}},null,8,["onClick"]),[[C,v(r).can("vendor-edit")]]),g(e(D,{size:"20",start:"",icon:"majesticons:money-line",onClick:Y=>{c.value=p,S(l)?l.value=!0:l=!0}},null,8,["onClick"]),[[C,v(r).can("vendor-payment")]]),g(e(D,{size:"20",start:"",icon:"mdi-clipboard-text-history-outline",onClick:Y=>{c.value=p,S(a)?a.value=!0:a=!0}},null,8,["onClick"]),[[C,v(r).can("vendor-history")]])])]))),128))])]),_:1}),g(e(A,{modelValue:v(n),"onUpdate:modelValue":f[0]||(f[0]=p=>S(n)?n.value=p:n=p),width:"auto"},{default:t(()=>[e(ae,{vendor:c.value,onEditModalStatus:s},null,8,["vendor"])]),_:1},8,["modelValue"]),[[C,v(r).can("vendor-edit")]]),g(e(A,{modelValue:v(l),"onUpdate:modelValue":f[1]||(f[1]=p=>S(l)?l.value=p:l=p),width:"auto"},{default:t(()=>[e(ne,{vendor:c.value,onPaymentModalStatus:i},null,8,["vendor"])]),_:1},8,["modelValue"]),[[C,v(r).can("vendor-payment")]]),g(e(A,{modelValue:v(a),"onUpdate:modelValue":f[2]||(f[2]=p=>S(a)?a.value=p:a=p),width:"auto"},{default:t(()=>[e(me,{vendor:c.value,onPaymentHistoryModalStatus:h},null,8,["vendor"])]),_:1},8,["modelValue"]),[[C,v(r).can("vendor-history")]])]),_:1})]),_:1})]),_:1}))}},be=u("h1",null,"Hello",-1),xe={__name:"vendor",setup(T){let r=I();const d=J(),c=W();F(async()=>{await d.updateProductList()});function n(){c.updateCategoryList(),c.updateProductTypeList(),c.updateUnitTypeList()}const l=y("list");return(a,s)=>(b(),w("div",null,[e(ee,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=i=>l.value=i),"show-arrows":""},{default:t(()=>[g(e(q,{value:"list"},{default:t(()=>[e(D,{size:"20",start:"",icon:"la:list-alt"}),U(" List ")]),_:1},512),[[C,v(r).can("vendor-list-view")]]),g(e(q,{value:"create",onClick:n},{default:t(()=>[e(D,{size:"20",start:"",icon:"uit:create-dashboard"}),U(" Create ")]),_:1},512),[[C,v(r).can("vendor-create")]])]),_:1},8,["modelValue"]),e(K),e(te,{modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=i=>l.value=i),class:"mt-5 disable-tab-transition",touch:!1},{default:t(()=>[g(e(E,{value:"create"},{default:t(()=>[e(le)]),_:1},512),[[C,v(r).can("vendor-create")]]),g(e(E,{value:"list"},{default:t(()=>[e(ye)]),_:1},512),[[C,v(r).can("vendor-list-view")]]),e(E,{value:"test","onGroup:selected":v(d).updateProductList},{default:t(()=>[be]),_:1},8,["onGroup:selected"])]),_:1},8,["modelValue"])]))}};typeof R=="function"&&R(xe);export{xe as default};
