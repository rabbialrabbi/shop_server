import{bg as N,aW as q,bh as B,P as I,aa as g,o as y,Q as O,w as t,a as e,e as r,aZ as d,X as c,N as $,W as f,c as K,F as L,a0 as R,bi as V,bj as F,$ as D,b as p,bk as M,bl as Q,aY as z,b2 as W,b3 as Y,R as j,bf as C,Y as x,S,U as A,O as E}from"./index.71bb308e.js";import{u as H}from"./report.7bf3eefe.js";import{u as U}from"./sellsOrders.46a78b96.js";import{V as T}from"./VAutocomplete.7737ec6c.js";import"./moment.9709ab41.js";const ce={randomNumber:()=>Math.floor(Math.random()*1e3+1)},_e=N("tab",{state:()=>({tabs:[],selectedTab:""}),actions:{addTab(_){let l=_.id;this.tabs.find(u=>u.id==l)||null||this.tabs.push(_),this.selectedTab=_.id}}}),X={__name:"ItemInput",props:["item"],setup(_){const l=_,o=U(),u=q();B(o);const a=I(l.item.product_id),n=I(l.item.quantity),b=I(l.item.unit_price),v=I(l.item.total_price);return g(a,(s,i)=>{if(s){console.log("Inside Product ID");let m=u.productList.find(k=>k.product_id===s);o.updateItem.product_id=s,o.updateItem.quantity=n.value,o.updateItem.unit_price=m.selling_price,o.updateItem.total_price=m.selling_price,v.value=m.selling_price,b.value=m.selling_price,o.updateEditProductData()}}),g(n,s=>{if(s){console.log("Inside Quantity"),o.updateItem.quantity=s;let i=o.updateItem.quantity*o.updateItem.unit_price;o.updateItem.total_price=i,o.updateEditProductData(),v.value=i}}),g(b,s=>{s&&(console.log("Inside Unit Price"),o.updateItem.unit_price=s,o.updateItem.total_price=o.updateItem.quantity*o.updateItem.unit_price,o.updateEditProductData(),v.value=o.updateItem.total_price)}),g(v,s=>{s&&(console.log("Inside Total price"),o.updateItem.unit_price=s/o.updateItem.quantity,o.updateItem.total_price=s,b.value=s/o.updateItem.quantity,o.updateEditProductData())}),(s,i)=>(y(),O(f,null,{default:t(()=>[e(r,{cols:"12",lg:"3"},{default:t(()=>[e(T,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=m=>a.value=m),items:d(u).getProductsSelect,class:"centered-input",label:"Product",variant:"underlined",onUpdate:i[1]||(i[1]=m=>s.alert("Hello"))},null,8,["modelValue","items"])]),_:1}),e(r,{cols:"12",lg:"2"},{default:t(()=>[e(c,{modelValue:n.value,"onUpdate:modelValue":i[2]||(i[2]=m=>n.value=m),label:"Quantity",placeholder:"Quantity",variant:"underlined",class:"centered-input"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",lg:"3"},{default:t(()=>[e(c,{modelValue:b.value,"onUpdate:modelValue":i[3]||(i[3]=m=>b.value=m),label:"Price",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",lg:"3"},{default:t(()=>[e(c,{modelValue:v.value,"onUpdate:modelValue":i[4]||(i[4]=m=>v.value=m),label:"Subtotal",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",lg:"1"},{default:t(()=>[e($,{size:"20",start:"",icon:"ep:close-bold",onClick:i[5]||(i[5]=m=>d(o).removeEditItem(d(l).item.item_id))})]),_:1})]),_:1}))}},Z={__name:"OrderItem",setup(_){const l=U();return console.log(l.updateItem),(o,u)=>(y(),O(V,null,{default:t(()=>[(y(!0),K(L,null,R(d(l).updateOrder.items,(a,n)=>(y(),O(X,{key:n,item:a,onClick:b=>d(l).selectedUpdateOrderItem=a.item_id},null,8,["item","onClick"]))),128))]),_:1}))}};const P=_=>(M("data-v-0a0c8674"),_=_(),Q(),_),G={class:"text-center"},J={class:"text-center"},w={class:"text-center"},h={class:"text-center"},ee=P(()=>p("td",null,"Total",-1)),te={class:"text-center"},le=P(()=>p("td",null,"Pay",-1)),ae={class:"text-center"},de=P(()=>p("td",null,"Balance",-1)),ue={class:"text-center"},oe={__name:"Subtotal",setup(_){const l=U();return(o,u)=>(y(),O(f,{class:"pa-x ma-x"},{default:t(()=>[e(r,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"},{default:t(()=>[e(D,null,{default:t(()=>[p("tbody",null,[p("tr",null,[p("td",G,[e(c,{modelValue:d(l).updateOrder.subtotal,"onUpdate:modelValue":u[0]||(u[0]=a=>d(l).updateOrder.subtotal=a),type:"number",variant:"underlined",class:"centered-input",label:"Subtotal",readonly:""},null,8,["modelValue"])]),p("td",J,[e(c,{modelValue:d(l).updateOrder.labour,"onUpdate:modelValue":u[1]||(u[1]=a=>d(l).updateOrder.labour=a),onKeyup:u[2]||(u[2]=a=>d(l).updateEditProductData()),type:"number",variant:"underlined",class:"centered-input",label:"Labour"},null,8,["modelValue"])]),p("td",w,[e(c,{modelValue:d(l).updateOrder.discount,"onUpdate:modelValue":u[3]||(u[3]=a=>d(l).updateOrder.discount=a),onKeyup:u[4]||(u[4]=a=>d(l).updateEditProductData()),type:"number",class:"centered-input",variant:"underlined",label:"Discount"},null,8,["modelValue"])]),p("td",h,[e(c,{modelValue:d(l).updateOrder.collection,"onUpdate:modelValue":u[5]||(u[5]=a=>d(l).updateOrder.collection=a),onKeyup:u[6]||(u[6]=a=>d(l).updateEditProductData()),type:"number",class:"centered-input",variant:"underlined",label:"Collection"},null,8,["modelValue"])])])])]),_:1})]),_:1}),e(r,{md:"6",lg:"4",cols:"12"},{default:t(()=>[e(D,null,{default:t(()=>[p("tbody",null,[p("tr",null,[ee,p("td",te,[e(c,{modelValue:d(l).updateOrder.total,"onUpdate:modelValue":u[7]||(u[7]=a=>d(l).updateOrder.total=a),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])]),p("tr",null,[le,p("td",ae,[e(c,{modelValue:d(l).updateOrder.pay,"onUpdate:modelValue":u[8]||(u[8]=a=>d(l).updateOrder.pay=a),onKeyup:u[9]||(u[9]=a=>d(l).updateEditBalance()),type:"number",placeholder:"Pay",variant:"solo-filled",class:"centered-input"},null,8,["modelValue"])])]),p("tr",null,[de,p("td",ue,[e(c,{modelValue:d(l).updateOrder.balance,"onUpdate:modelValue":u[10]||(u[10]=a=>d(l).updateOrder.balance=a),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])])])]),_:1})]),_:1})]),_:1}))}},re=F(oe,[["__scopeId","data-v-0a0c8674"]]),fe={__name:"UpdateOrder",props:["ordercode"],setup(_){const l=U();H();const o=I([]);return z(async()=>{let u=await W.get(Y.getCustomer);o.value=u.data.data.map(a=>({title:a.name,value:a.customer_id}))}),(u,a)=>(y(),O(f,null,{default:t(()=>[e(r,{md:"6",lg:"12",cols:"12"},{default:t(()=>[e(j,null,{default:t(()=>[e(f,{"no-gutters":""},{default:t(()=>[e(r,{cols:"12",sm:"8",md:"12",lg:"6",order:"2","order-lg":"1"},{default:t(()=>[e(V,null,{default:t(()=>[e(C,null,{default:t(()=>[x("Customer")]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(f,null,{default:t(()=>[e(r,{cols:"12",md:"6"},{default:t(()=>[e(T,{modelValue:d(l).updateOrder.customer_id,"onUpdate:modelValue":a[0]||(a[0]=n=>d(l).updateOrder.customer_id=n),items:o.value,label:"Customer Name",placeholder:"Customer Name"},null,8,["modelValue","items"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:d(l).updateOrder.customer_contact,"onUpdate:modelValue":a[1]||(a[1]=n=>d(l).updateOrder.customer_contact=n),label:"Contact No",placeholder:"Contact No"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(r,{cols:"12",sm:"4",md:"12",lg:"6",order:"1","order-lg":"2"},{default:t(()=>[e(V,null,{default:t(()=>[e(C,null,{default:t(()=>[x("Order")]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(f,null,{default:t(()=>[e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:d(l).updateOrder.order_code,"onUpdate:modelValue":a[2]||(a[2]=n=>d(l).updateOrder.order_code=n),label:"Order No",placeholder:"Order No",readonly:""},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:d(l).updateOrder.order_date,"onUpdate:modelValue":a[3]||(a[3]=n=>d(l).updateOrder.order_date=n),label:"Order Date",placeholder:"Order Date",type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(V,null,{default:t(()=>[e(C,null,{default:t(()=>[x("Items")]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(A)]),_:1}),e(Z),e(V,null,{default:t(()=>[e(E,{block:"",onClick:a[4]||(a[4]=n=>d(l).addUpdateProductItem())},{default:t(()=>[e($,{size:"2rem",icon:"material-symbols:add-circle-outline-rounded"})]),_:1})]),_:1}),e(V,null,{default:t(()=>[e(re)]),_:1}),e(V,null,{default:t(()=>[e(f,{class:"pa-x ma-x"},{default:t(()=>[e(r,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(r,{md:"6",lg:"4",cols:"12"},{default:t(()=>[e(f,null,{default:t(()=>[e(r,{md:"12",lg:"12",cols:"12",class:"text-center"},{default:t(()=>[e(E,{class:"bg-success",onClick:a[5]||(a[5]=n=>d(l).updateOrderPayment())},{default:t(()=>[x(" Edit ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{fe as _,ce as h,_e as u};
