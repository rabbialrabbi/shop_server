import{P as y,o as b,Q as D,w as t,a as e,e as n,R as N,S as L,Z as F,W as x,b1 as q,X as V,O as k,Y as U,b2 as M,b3 as A,bk as G,t as _,aZ as v,aY as j,b as u,$ as X,c as T,F as Z,a0 as H,aV as I,ap as g,aw as C,N as P,bu as S,aW as J,aX as W,U as Q,a3 as z}from"./index.24ce2781.js";import{V as B}from"./VForm.887b35c0.js";import{V as R}from"./VAutocomplete.1567798f.js";import{V as K}from"./VTextarea.86203ef5.js";import{V as $}from"./VDialog.ab61239a.js";import{V as O,a as ee,b as E,c as te}from"./VWindowItem.64e4e372.js";import"./VSelect.008f7a26.js";import"./VCheckboxBtn.5fb0b5d8.js";const le={__name:"AddVendor",setup(w){const r={name:null,contact_no:null,village:null,city:null,email:null,total_spend:null,total_due:null},d=y(structuredClone(r)),c=async()=>{try{const o=await M.post(A.createVendor,d.value);console.log(o.data),o.data.status&&(d.value=y(structuredClone(r)))}catch(o){console.log(o)}};return(o,l)=>(b(),D(x,{justify:"center"},{default:t(()=>[e(n,{cols:"12",md:"10"},{default:t(()=>[e(N,{title:"Add Vendor"},{default:t(()=>[e(L,null,{default:t(()=>[e(B,{onSubmit:l[7]||(l[7]=F(()=>{},["prevent"]))},{default:t(()=>[e(x,null,{default:t(()=>[e(n,{cols:"12",md:"3"},{default:t(()=>[e(q,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(n,{cols:"12",md:"9"},{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(V,{modelValue:d.value.name,"onUpdate:modelValue":l[0]||(l[0]=a=>d.value.name=a),label:"Vendor Name",placeholder:"Vendor Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(V,{modelValue:d.value.contact_no,"onUpdate:modelValue":l[1]||(l[1]=a=>d.value.contact_no=a),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(x,null,{default:t(()=>[e(n,{cols:"6"},{default:t(()=>[e(V,{modelValue:d.value.village,"onUpdate:modelValue":l[2]||(l[2]=a=>d.value.village=a),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"6"},{default:t(()=>[e(R,{modelValue:d.value.city,"onUpdate:modelValue":l[3]||(l[3]=a=>d.value.city=a),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(V,{modelValue:d.value.email,"onUpdate:modelValue":l[4]||(l[4]=a=>d.value.email=a),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(x,null,{default:t(()=>[e(n,{cols:"6"},{default:t(()=>[e(V,{modelValue:d.value.total_spend,"onUpdate:modelValue":l[5]||(l[5]=a=>d.value.total_spend=a),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(n,{cols:"6"},{default:t(()=>[e(V,{modelValue:d.value.total_due,"onUpdate:modelValue":l[6]||(l[6]=a=>d.value.total_due=a),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(k,{type:"submit",onClick:c},{default:t(()=>[U(" Submit ")]),_:1}),e(k,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[U(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ae={__name:"VendorEdit",props:["vendor"],emits:["edit-modal-status"],setup(w,{emit:r}){const d=w,c=d.vendor,o=y(c),l=async()=>{try{const a=A.editVendor+"/"+d.vendor.vendor_id;(await M.put(a,o.value)).data.status&&r("edit-modal-status",!1)}catch(a){console.log(a)}};return(a,s)=>(b(),D(x,{justify:"center"},{default:t(()=>[e(n,{cols:"12",md:"10"},{default:t(()=>[e(N,{title:"Update Vendor"},{default:t(()=>[e(L,null,{default:t(()=>[e(B,{onSubmit:s[7]||(s[7]=F(()=>{},["prevent"]))},{default:t(()=>[e(x,null,{default:t(()=>[e(n,{cols:"12",md:"3"},{default:t(()=>[e(q,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(n,{cols:"12",md:"9"},{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(V,{modelValue:o.value.name,"onUpdate:modelValue":s[0]||(s[0]=i=>o.value.name=i),label:"Vendor Name",placeholder:"Vendor Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(V,{modelValue:o.value.contact_no,"onUpdate:modelValue":s[1]||(s[1]=i=>o.value.contact_no=i),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(x,null,{default:t(()=>[e(n,{cols:"6"},{default:t(()=>[e(V,{modelValue:o.value.village,"onUpdate:modelValue":s[2]||(s[2]=i=>o.value.village=i),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"6"},{default:t(()=>[e(R,{modelValue:o.value.city,"onUpdate:modelValue":s[3]||(s[3]=i=>o.value.city=i),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(V,{modelValue:o.value.email,"onUpdate:modelValue":s[4]||(s[4]=i=>o.value.email=i),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(x,null,{default:t(()=>[e(n,{cols:"6"},{default:t(()=>[e(V,{modelValue:o.value.total_spend,"onUpdate:modelValue":s[5]||(s[5]=i=>o.value.total_spend=i),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(n,{cols:"6"},{default:t(()=>[e(V,{modelValue:o.value.total_due,"onUpdate:modelValue":s[6]||(s[6]=i=>o.value.total_due=i),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(k,{type:"submit",onClick:l},{default:t(()=>[U(" Submit ")]),_:1}),e(k,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[U(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},oe={__name:"VendorPayment",props:["vendor"],emits:["payment-modal-status"],setup(w,{emit:r}){const d=w;let c=[{title:"Deposit",value:1},{title:"Due",value:0}],o={amount:null,payment_type:1,message:null};const l=y(structuredClone(o)),a=d.vendor,s=y(a),i=async()=>{try{const h=A.editVendor+"/"+d.vendor.vendor_id+"/payment";(await M.post(h,l.value)).data.status&&(l.value=y(a),r("payment-modal-status",!1))}catch(h){console.log(h)}};return(h,m)=>(b(),D(x,{justify:"center"},{default:t(()=>[e(n,{cols:"12",md:"10"},{default:t(()=>[e(N,null,{default:t(()=>[e(G,null,{default:t(()=>[U(_(s.value.name)+" Payment ",1)]),_:1}),e(L,null,{default:t(()=>[e(B,{onSubmit:m[4]||(m[4]=F(()=>{},["prevent"]))},{default:t(()=>[e(x,null,{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(R,{modelValue:l.value.payment_type,"onUpdate:modelValue":m[0]||(m[0]=f=>l.value.payment_type=f),items:v(c),label:"Product Type",placeholder:"Product Type",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(V,{modelValue:l.value.amount,"onUpdate:modelValue":m[1]||(m[1]=f=>l.value.amount=f),label:"Amount",placeholder:"Amount",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(K,{modelValue:l.value.message,"onUpdate:modelValue":m[2]||(m[2]=f=>l.value.message=f),label:"Message",placeholder:"Message",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(k,{type:"submit",onClick:i},{default:t(()=>[U(" Submit ")]),_:1}),e(k,{type:"reset",color:"secondary",variant:"tonal",onClick:m[3]||(m[3]=f=>r("payment-modal-status",!1))},{default:t(()=>[U(" Close ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ne=u("thead",null,[u("tr",null,[u("th",{class:"text-uppercase"}," Transaction ID "),u("th",{class:"text-uppercase"}," Name "),u("th",{class:"text-uppercase"}," Ref "),u("th",{class:"text-center text-uppercase"}," Time "),u("th",{class:"text-center text-uppercase"}," Pre Amount "),u("th",{class:"text-center text-uppercase"}," Amount "),u("th",{class:"text-center text-uppercase"}," Final ")])],-1),ue={class:"text-center"},de={class:"text-center"},se={class:"text-center"},re={key:0},ie={key:1},ce={class:"text-center"},me={__name:"VendorPaymentHistory",props:["vendor"],setup(w){const d=w.vendor,c=y([]);return j(async()=>{let o=await M.get(A.getVendor+"/"+d.vendor_id+"/payment");c.value=o.data.data}),(o,l)=>(b(),D(x,{justify:"center"},{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(N,null,{default:t(()=>[e(G,null,{default:t(()=>[U(_(v(d).name)+" ",1),u("span",null,_(c.value.current),1)]),_:1}),e(X,null,{default:t(()=>[ne,u("tbody",null,[(b(!0),T(Z,null,H(c.value.transaction,a=>(b(),T("tr",{key:a.transaction_id},[u("td",null,_(a.transaction_id),1),u("td",null,_(a.vendor_name),1),u("td",null,_(a.ref),1),u("td",ue,_(a.created_at),1),u("td",de,_(a.pre_amount),1),u("td",se,[a.type?(b(),T("span",re," + ")):(b(),T("span",ie," - ")),U(" "+_(a.amount),1)]),u("td",ce,_(a.post_amount),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}},pe=u("thead",null,[u("tr",null,[u("th",{class:"text-uppercase"}," Name "),u("th",{class:"text-center text-uppercase"}," Village "),u("th",{class:"text-center text-uppercase"}," Contact No "),u("th",{class:"text-center text-uppercase"}," Total Due "),u("th",{class:"text-center text-uppercase"}," Action ")])],-1),ve={class:"text-center"},_e={class:"text-center"},fe={class:"text-center"},Ve={class:"text-center"},ye={__name:"VendorList",setup(w){let r=I();const d=y([]),c=y("");let o=y(!1),l=y(!1),a=y(!1);function s(m){o.value=m}function i(m){l.value=m}function h(m){a.value=m}return j(async()=>{let m=await M.get(A.getVendor);d.value=m.data.data}),(m,f)=>(b(),D(x,{justify:"center"},{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(N,{title:"Basic"},{default:t(()=>[e(X,null,{default:t(()=>[pe,u("tbody",null,[(b(!0),T(Z,null,H(d.value,p=>(b(),T("tr",{key:p.vendor_id},[u("td",null,_(p.name)+" - "+_(p.village),1),u("td",ve,_(p.village),1),u("td",_e,_(p.contact_no),1),u("td",fe,[g(u("span",null,_(p.total_due),513),[[C,v(r).can("vendor-due-view")]])]),u("td",Ve,[g(e(P,{size:"20",start:"",icon:"tabler:edit",onClick:Y=>{c.value=p,S(o)?o.value=!0:o=!0}},null,8,["onClick"]),[[C,v(r).can("vendor-edit")]]),g(e(P,{size:"20",start:"",icon:"majesticons:money-line",onClick:Y=>{c.value=p,S(l)?l.value=!0:l=!0}},null,8,["onClick"]),[[C,v(r).can("vendor-payment")]]),g(e(P,{size:"20",start:"",icon:"mdi-clipboard-text-history-outline",onClick:Y=>{c.value=p,S(a)?a.value=!0:a=!0}},null,8,["onClick"]),[[C,v(r).can("vendor-history")]])])]))),128))])]),_:1}),g(e($,{modelValue:v(o),"onUpdate:modelValue":f[0]||(f[0]=p=>S(o)?o.value=p:o=p),width:"auto"},{default:t(()=>[e(ae,{vendor:c.value,onEditModalStatus:s},null,8,["vendor"])]),_:1},8,["modelValue"]),[[C,v(r).can("vendor-edit")]]),g(e($,{modelValue:v(l),"onUpdate:modelValue":f[1]||(f[1]=p=>S(l)?l.value=p:l=p),width:"auto"},{default:t(()=>[e(oe,{vendor:c.value,onPaymentModalStatus:i},null,8,["vendor"])]),_:1},8,["modelValue"]),[[C,v(r).can("vendor-payment")]]),g(e($,{modelValue:v(a),"onUpdate:modelValue":f[2]||(f[2]=p=>S(a)?a.value=p:a=p),width:"auto"},{default:t(()=>[e(me,{vendor:c.value,onPaymentHistoryModalStatus:h},null,8,["vendor"])]),_:1},8,["modelValue"]),[[C,v(r).can("vendor-history")]])]),_:1})]),_:1})]),_:1}))}},be=u("h1",null,"Hello",-1),xe={__name:"vendor",setup(w){let r=I();const d=J(),c=W();j(async()=>{await d.updateProductList()});function o(){c.updateCategoryList(),c.updateProductTypeList(),c.updateUnitTypeList()}const l=y("list");return(a,s)=>(b(),T("div",null,[e(ee,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=i=>l.value=i),"show-arrows":""},{default:t(()=>[g(e(O,{value:"list"},{default:t(()=>[e(P,{size:"20",start:"",icon:"la:list-alt"}),U(" List ")]),_:1},512),[[C,v(r).can("vendor-list-view")]]),g(e(O,{value:"create",onClick:o},{default:t(()=>[e(P,{size:"20",start:"",icon:"uit:create-dashboard"}),U(" Create ")]),_:1},512),[[C,v(r).can("vendor-create")]])]),_:1},8,["modelValue"]),e(Q),e(te,{modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=i=>l.value=i),class:"mt-5 disable-tab-transition",touch:!1},{default:t(()=>[g(e(E,{value:"create"},{default:t(()=>[e(le)]),_:1},512),[[C,v(r).can("vendor-create")]]),g(e(E,{value:"list"},{default:t(()=>[e(ye)]),_:1},512),[[C,v(r).can("vendor-list-view")]]),e(E,{value:"test","onGroup:selected":v(d).updateProductList},{default:t(()=>[be]),_:1},8,["onGroup:selected"])]),_:1},8,["modelValue"])]))}};typeof z=="function"&&z(xe);export{xe as default};
