import{aW as L,P as x,aa as P,o as b,Q as y,w as l,a as e,e as i,aZ as a,X as c,W as V,c as U,F as w,a0 as D,bg as v,bh as A,$ as T,b as m,bi as q,bj as R,aV as Y,aY as j,b2 as E,b3 as H,R as M,bk as S,Y as g,S as k,U as K,O,N as I,ap as X,aw as Z,t as G,a3 as $}from"./index.24ce2781.js";import{u as C}from"./buyOrders.ad50d580.js";import{V as W}from"./VAutocomplete.1567798f.js";import"./moment.9709ab41.js";import{V as B,a as J,b as Q,c as h}from"./VWindowItem.64e4e372.js";import"./report.a47ace16.js";import"./VSelect.008f7a26.js";import"./VCheckboxBtn.5fb0b5d8.js";const ee={__name:"ItemInput",setup(f){const t=C(),p=L(),d=x(""),o=x(""),r=x(""),s=x("");return P(d,(u,n)=>{if(u){let _=p.productList.find(F=>F.product_id===u);t.item.product_id=d,t.item.unit_price=_.selling_price,o.value=1,r.value=_.selling_price,s.value=_.selling_price,t.updateProductData()}}),P(o,u=>{u&&(t.item.quantity=u,t.updateProductData(),s.value=t.item.total_price)}),P(r,u=>{u&&(t.item.unit_price=u,t.updateProductData(),s.value=t.item.total_price)}),(u,n)=>(b(),y(V,null,{default:l(()=>[e(i,{cols:"12",lg:"3"},{default:l(()=>[e(W,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=_=>d.value=_),items:a(p).getProductsSelect,label:"Product",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",lg:"3"},{default:l(()=>[e(c,{modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=_=>o.value=_),label:"Unit Amount",placeholder:"Unit Amount",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",lg:"3"},{default:l(()=>[e(c,{modelValue:r.value,"onUpdate:modelValue":n[2]||(n[2]=_=>r.value=_),label:"Price",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",lg:"3"},{default:l(()=>[e(c,{modelValue:s.value,"onUpdate:modelValue":n[3]||(n[3]=_=>s.value=_),label:"Subtotal",variant:"underlined",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}))}},le={__name:"OrderItem",props:["tab"],setup(f){const p=f.tab,d=C();return(o,r)=>(b(),y(v,null,{default:l(()=>[(b(!0),U(w,null,D(a(d).orders[a(p)].items,(s,u)=>(b(),y(ee,{key:u,item:u,tab:a(p),onClick:n=>a(d).selectedItems=u},null,8,["item","tab","onClick"]))),128))]),_:1}))}};const N=f=>(q("data-v-cc1a7bb0"),f=f(),R(),f),te={class:"text-center"},ae={class:"text-center"},oe={class:"text-center"},de={class:"text-center"},ue=N(()=>m("td",null,"Total",-1)),re={class:"text-center"},ne=N(()=>m("td",null,"Pay",-1)),se={class:"text-center"},ie=N(()=>m("td",null,"Balance",-1)),me={class:"text-center"},ce={__name:"Subtotal",setup(f){const t=C();return(p,d)=>(b(),y(V,{class:"pa-x ma-x"},{default:l(()=>[e(i,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"},{default:l(()=>[e(T,null,{default:l(()=>[m("tbody",null,[m("tr",null,[m("td",te,[e(c,{modelValue:a(t).order.subtotal,"onUpdate:modelValue":d[0]||(d[0]=o=>a(t).order.subtotal=o),type:"number",variant:"underlined",class:"centered-input",label:"Subtotal",readonly:""},null,8,["modelValue"])]),m("td",ae,[e(c,{modelValue:a(t).order.charge,"onUpdate:modelValue":d[1]||(d[1]=o=>a(t).order.charge=o),onKeyup:d[2]||(d[2]=o=>a(t).updateProductData()),type:"number",variant:"underlined",class:"centered-input",label:"Charge"},null,8,["modelValue"])]),m("td",oe,[e(c,{modelValue:a(t).order.discount,"onUpdate:modelValue":d[3]||(d[3]=o=>a(t).order.discount=o),onKeyup:d[4]||(d[4]=o=>a(t).updateProductData()),type:"number",class:"centered-input",variant:"underlined",label:"Discount"},null,8,["modelValue"])]),m("td",de,[e(c,{modelValue:a(t).order.collection,"onUpdate:modelValue":d[5]||(d[5]=o=>a(t).order.collection=o),onKeyup:d[6]||(d[6]=o=>a(t).updateProductData()),type:"number",class:"centered-input",variant:"underlined",label:"Collection"},null,8,["modelValue"])])])])]),_:1})]),_:1}),e(i,{md:"6",lg:"4",cols:"12"},{default:l(()=>[e(T,null,{default:l(()=>[m("tbody",null,[m("tr",null,[ue,m("td",re,[e(c,{modelValue:a(t).order.total,"onUpdate:modelValue":d[7]||(d[7]=o=>a(t).order.total=o),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])]),m("tr",null,[ne,m("td",se,[e(c,{modelValue:a(t).order.pay,"onUpdate:modelValue":d[8]||(d[8]=o=>a(t).order.pay=o),onKeyup:d[9]||(d[9]=o=>a(t).updateProductData()),type:"number",placeholder:"Pay",variant:"solo-filled",class:"centered-input"},null,8,["modelValue"])])]),m("tr",null,[ie,m("td",me,[e(c,{modelValue:a(t).order.balance,"onUpdate:modelValue":d[10]||(d[10]=o=>a(t).order.balance=o),type:"number",placeholder:"Discount",variant:"solo-filled",class:"centered-input",readonly:""},null,8,["modelValue"])])])])]),_:1})]),_:1})]),_:1}))}},pe=A(ce,[["__scopeId","data-v-cc1a7bb0"]]),_e={__name:"CreateOrder",props:["index"],setup(f){const t=f;let p=Y();const d=t.index,o=C(),r=x([]);return j(async()=>{let s=await E.get(H.getVendor);r.value=s.data.data.map(u=>({title:u.name,value:u.vendor_id}))}),(s,u)=>(b(),y(V,null,{default:l(()=>[e(i,{md:"6",lg:"12",cols:"12"},{default:l(()=>[e(M,null,{default:l(()=>[e(V,{"no-gutters":""},{default:l(()=>[e(i,{cols:"12",sm:"8",md:"12",lg:"6",order:"2","order-lg":"1"},{default:l(()=>[e(v,null,{default:l(()=>[e(S,null,{default:l(()=>[g("Buyer")]),_:1})]),_:1}),e(k,null,{default:l(()=>[e(V,null,{default:l(()=>[e(i,{cols:"12",md:"6"},{default:l(()=>[e(W,{modelValue:a(o).order.vendor_id,"onUpdate:modelValue":u[0]||(u[0]=n=>a(o).order.vendor_id=n),items:r.value,label:"Customer Name",placeholder:"Customer Name"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"6"},{default:l(()=>[e(c,{modelValue:s.firstName,"onUpdate:modelValue":u[1]||(u[1]=n=>s.firstName=n),label:"Contact No",placeholder:"Contact No"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",sm:"4",md:"12",lg:"6",order:"1","order-lg":"2"},{default:l(()=>[e(v,null,{default:l(()=>[e(S,null,{default:l(()=>[g("Order")]),_:1})]),_:1}),e(k,null,{default:l(()=>[e(V,null,{default:l(()=>[e(i,{cols:"12",md:"6"},{default:l(()=>[e(c,{modelValue:s.firstName,"onUpdate:modelValue":u[2]||(u[2]=n=>s.firstName=n),label:"Order No",placeholder:"Order No",readonly:""},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:l(()=>[e(c,{modelValue:a(o).order.order_date,"onUpdate:modelValue":u[3]||(u[3]=n=>a(o).order.order_date=n),label:"Order Date",placeholder:"Order Date",type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(S,null,{default:l(()=>[g("Items")]),_:1})]),_:1}),e(k,null,{default:l(()=>[e(K)]),_:1}),e(le,{tab:a(d)},null,8,["tab"]),e(v,null,{default:l(()=>[e(O,{block:"",onClick:u[4]||(u[4]=n=>a(o).addProductItem()),class:"bg-warning"},{default:l(()=>[e(I,{size:"2rem",icon:"material-symbols:add-circle-outline-rounded"})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(pe)]),_:1}),X(e(v,null,{default:l(()=>[e(V,{class:"pa-x ma-x"},{default:l(()=>[e(i,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(i,{md:"6",lg:"4",cols:"12"},{default:l(()=>[e(V,null,{default:l(()=>[e(i,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:l(()=>[e(O,{class:"bg-warning"},{default:l(()=>[g(" Save ")]),_:1})]),_:1}),e(i,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:l(()=>[e(O,{class:"bg-success",onClick:u[5]||(u[5]=n=>a(o).payment())},{default:l(()=>[g(" Payment ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),[[Z,a(p).can("buy-order-create")]])]),_:1})]),_:1})]),_:1}))}};const z={__name:"buy-order",setup(f){const t=C();x("Hello");const p=t.orders;return(d,o)=>(b(),U("div",null,[e(J,{modelValue:a(t).activeTab,"onUpdate:modelValue":o[1]||(o[1]=r=>a(t).activeTab=r),"show-arrows":""},{default:l(()=>[(b(!0),U(w,null,D(a(p),(r,s)=>(b(),y(B,{key:r.name,value:r.tab,onClick:u=>a(t).selectTab(s),color:"warning"},{default:l(()=>[e(I,{size:"20",start:"",icon:"lucide:user-round"}),g(" "+G(r.title),1)]),_:2},1032,["value","onClick"]))),128)),e(B,{value:"",onClick:o[0]||(o[0]=r=>a(t).addTab()),color:"warning"},{default:l(()=>[e(I,{size:"20",start:"",icon:"iconoir:new-tab"})]),_:1})]),_:1},8,["modelValue"]),e(K),e(h,{modelValue:a(t).activeTab,"onUpdate:modelValue":o[2]||(o[2]=r=>a(t).activeTab=r),class:"mt-5 disable-tab-transition",touch:!1},{default:l(()=>[(b(!0),U(w,null,D(a(p),(r,s)=>(b(),y(Q,{key:r.tab,value:r.tab},{default:l(()=>[e(_e,{items:r.items,index:s},null,8,["items","index"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof $=="function"&&$(z);const Ue=A(z,[["__scopeId","data-v-8e6ceac6"]]);export{Ue as default};
