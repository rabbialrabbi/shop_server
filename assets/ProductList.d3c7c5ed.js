import{p as oe,aP as de,D as ne,b0 as se,g as B,aQ as re,ae as ie,aR as ce,aS as pe,U,a as e,ak as R,b1 as _e,b2 as me,aT as ve,aZ as j,a_ as z,a$ as M,ad as F,o as C,W as x,w as t,e as a,X as Q,Y as E,a1 as Y,$ as V,j as W,l as T,k as h,a0 as f,i as m,b3 as Z,b4 as G,aY as ye,c as $,b as i,F as N,a4 as fe,t as g,as as k,az as P,T as w,a3 as Ve}from"./index.07e8aedc.js";import"./moment.9709ab41.js";import{V as H}from"./VForm.86b41d4e.js";import{V as S}from"./VAutocomplete.7f33ebd6.js";import{V as J}from"./VTextarea.4ce2c669.js";import{a as be,b as ge,c as Ce}from"./VCheckboxBtn.fcbe5789.js";import{V as Ue}from"./VDialog.d1c80073.js";const K=oe({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...de(),...be()},emits:{"update:indeterminate":v=>!0},setup(v,c){let{attrs:r,slots:o}=c;const p=ne(v,"indeterminate"),{loaderClasses:b}=se(v),l=B(()=>typeof v.loading=="string"&&v.loading!==""?v.loading:v.color),_=re(),d=B(()=>v.id||`switch-${_}`);function n(){p.value&&(p.value=!1)}return ie(()=>{const[D,y]=ce(r),[u,s]=pe(v),[O,De]=ge(v),I=U();function X(){var q,A;(q=I.value)==null||(A=q.input)==null||A.click()}return e(ve,R({class:["v-switch",{"v-switch--inset":v.inset},{"v-switch--indeterminate":p.value},b.value]},D,u,{id:d.value}),{...o,default:q=>{let{id:A,isDisabled:ee,isReadonly:te,isValid:le}=q;return e(Ce,R({ref:I},O,{id:A.value,type:"checkbox","onUpdate:modelValue":n,"aria-checked":p.value?"mixed":void 0,disabled:ee.value,readonly:te.value},y),{...o,default:()=>e("div",{class:"v-switch__track",onClick:X},null),input:ae=>{let{textColorClasses:ue}=ae;return e("div",{class:["v-switch__thumb",ue.value]},[v.loading&&e(_e,{name:"v-switch",active:!0,color:le.value===!1?void 0:l.value},{default:L=>o.loader?o.loader(L):e(me,{active:L.isActive,color:L.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}}),ze={__name:"AddProduct",setup(v){j();const c=z();M(async()=>{await c.updateCategoryList(),await c.updateProductTypeList(),await c.updateUnitTypeList()});const r={name:null,category_id:null,product_type_id:null,unit_amount:null,unit_id:null,description:null,selling_price:null,cost_adjust_type:!0,cost:null,available_qty:null,reserved_qty:null,in_transit_qty:null},o=U(structuredClone(r)),p=U(),b=U([]);F(p,_=>{let d=c.productTypes;o.value.category_id=_,d=d.filter(n=>n.category_id===_),d=d.map(n=>({title:n.name,value:n.product_type_id})),b.value=d});const l=async()=>{try{(await Z.post(G.createProduct,o.value)).data.status&&(o.value=U(structuredClone(r)),p.value=null)}catch(_){console.log(_)}};return(_,d)=>(C(),x(V,{justify:"center"},{default:t(()=>[e(a,{cols:"12",md:"10"},{default:t(()=>[e(Q,{title:"Add Product"},{default:t(()=>[e(E,null,{default:t(()=>[e(H,{onSubmit:d[12]||(d[12]=Y(()=>{},["prevent"]))},{default:t(()=>[e(V,null,{default:t(()=>[e(a,{cols:"12",md:"2"},{default:t(()=>[e(W,{width:"100%",src:"https://images.pexels.com/photos/90946/pexels-photo-90946.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}),e(T,{justify:"center",width:"100%",class:"mt-3"},{default:t(()=>[h(" Upload ")]),_:1})]),_:1}),e(a,{cols:"12",md:"5"},{default:t(()=>[e(a,{cols:"12"},{default:t(()=>[e(f,{modelValue:o.value.name,"onUpdate:modelValue":d[0]||(d[0]=n=>o.value.name=n),label:"Product Name",placeholder:"Product Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(S,{modelValue:p.value,"onUpdate:modelValue":d[1]||(d[1]=n=>p.value=n),items:m(c).getCategoriesSelect,label:"Category",placeholder:"Category",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(S,{modelValue:o.value.product_type_id,"onUpdate:modelValue":d[2]||(d[2]=n=>o.value.product_type_id=n),items:b.value,label:"Product Type",placeholder:"Product Type",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(V,null,{default:t(()=>[e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:o.value.unit_amount,"onUpdate:modelValue":d[3]||(d[3]=n=>o.value.unit_amount=n),label:"Unit Amount",placeholder:"Unit Amount",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(a,{cols:"6"},{default:t(()=>[e(S,{modelValue:o.value.unit_id,"onUpdate:modelValue":d[4]||(d[4]=n=>o.value.unit_id=n),items:m(c).getUnitTypeSelect,label:"Unit Type",placeholder:"Unit Type",variant:"underlined"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(J,{modelValue:o.value.description,"onUpdate:modelValue":d[5]||(d[5]=n=>o.value.description=n),label:"Description",placeholder:"Description",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(a,{cols:"12",md:"5"},{default:t(()=>[e(a,{cols:"12"},{default:t(()=>[e(V,null,{default:t(()=>[e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:o.value.selling_price,"onUpdate:modelValue":d[6]||(d[6]=n=>o.value.selling_price=n),label:"Selling Price",placeholder:"Selling Price",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(a,{cols:"6"},{default:t(()=>[e(K,{modelValue:o.value.cost_adjust_type,"onUpdate:modelValue":d[7]||(d[7]=n=>o.value.cost_adjust_type=n),label:"Adjust",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(V,null,{default:t(()=>[e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:o.value.cost,"onUpdate:modelValue":d[8]||(d[8]=n=>o.value.cost=n),label:"Cost",placeholder:"Cost",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:o.value.available_qty,"onUpdate:modelValue":d[9]||(d[9]=n=>o.value.available_qty=n),label:"Available Qty",placeholder:"Available Qty",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(V,null,{default:t(()=>[e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:o.value.reserved_qty,"onUpdate:modelValue":d[10]||(d[10]=n=>o.value.reserved_qty=n),label:"Reserved Qty",placeholder:"Reserved Qty",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:o.value.in_transit_qty,"onUpdate:modelValue":d[11]||(d[11]=n=>o.value.in_transit_qty=n),label:"In Transit Qty",placeholder:"In Transit Qty",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(a,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(T,{type:"submit",onClick:l},{default:t(()=>[h(" Submit ")]),_:1}),e(T,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[h(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},xe={__name:"ProductEdit",props:["product"],setup(v){const c=v;let r=c.product;const o=j(),p=z();M(async()=>{await p.updateCategoryList(),await p.updateProductTypeList(),await p.updateUnitTypeList()});const b={name:r.name,category_id:r.category_id,product_type_id:r.product_type_id,unit_amount:r.unit_amount,unit_id:r.unit_id,description:r.description,selling_price:r.selling_price,cost_adjust_type:r.cost_adjust_type==1,cost:r.cost,available_qty:r.available_qty,reserved_qty:r.reserved_qty,in_transit_qty:r.in_transit_qty},l=U(structuredClone(b)),_=U(b.category_id),n=U((()=>{let y=p.productTypes;return y=y.filter(u=>u.category_id===_.value),y=y.map(u=>({title:u.name,value:u.product_type_id})),y})());F(_,y=>{let u=p.productTypes;l.value.category_id=y,u=u.filter(s=>s.category_id===y),u=u.map(s=>({title:s.name,value:s.product_type_id})),l.value.product_type_id=null,n.value=u});const D=async()=>{try{const y=G.editProduct+"/"+c.product.product_id,u=await Z.put(y,l.value);await o.updateProductList(),o.editModalStatus=!1}catch(y){console.log(y)}};return(y,u)=>(C(),x(V,{justify:"center"},{default:t(()=>[e(a,{cols:"12",md:"10"},{default:t(()=>[e(Q,{title:"Add Product"},{default:t(()=>[e(E,null,{default:t(()=>[e(H,{onSubmit:u[12]||(u[12]=Y(()=>{},["prevent"]))},{default:t(()=>[e(V,null,{default:t(()=>[e(a,{cols:"12",md:"2"},{default:t(()=>[e(W,{width:"100%",src:"https://images.pexels.com/photos/90946/pexels-photo-90946.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}),e(T,{justify:"center",width:"100%",class:"mt-3"},{default:t(()=>[h(" Upload ")]),_:1})]),_:1}),e(a,{cols:"12",md:"5"},{default:t(()=>[e(a,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.name,"onUpdate:modelValue":u[0]||(u[0]=s=>l.value.name=s),label:"Product Name",placeholder:"Product Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(S,{modelValue:_.value,"onUpdate:modelValue":u[1]||(u[1]=s=>_.value=s),items:m(p).getCategoriesSelect,label:"Category",placeholder:"Category",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(S,{modelValue:l.value.product_type_id,"onUpdate:modelValue":u[2]||(u[2]=s=>l.value.product_type_id=s),items:n.value,label:"Product Type",placeholder:"Product Type",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(V,null,{default:t(()=>[e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.unit_amount,"onUpdate:modelValue":u[3]||(u[3]=s=>l.value.unit_amount=s),label:"Unit Amount",placeholder:"Unit Amount",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(a,{cols:"6"},{default:t(()=>[e(S,{modelValue:l.value.unit_id,"onUpdate:modelValue":u[4]||(u[4]=s=>l.value.unit_id=s),items:m(p).getUnitTypeSelect,label:"Unit Type",placeholder:"Unit Type",variant:"underlined"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(J,{modelValue:l.value.description,"onUpdate:modelValue":u[5]||(u[5]=s=>l.value.description=s),label:"Description",placeholder:"Description",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(a,{cols:"12",md:"5"},{default:t(()=>[e(a,{cols:"12"},{default:t(()=>[e(V,null,{default:t(()=>[e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.selling_price,"onUpdate:modelValue":u[6]||(u[6]=s=>l.value.selling_price=s),label:"Selling Price",placeholder:"Selling Price",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(a,{cols:"6"},{default:t(()=>[e(K,{modelValue:l.value.cost_adjust_type,"onUpdate:modelValue":u[7]||(u[7]=s=>l.value.cost_adjust_type=s),label:"Adjust",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(V,null,{default:t(()=>[e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.cost,"onUpdate:modelValue":u[8]||(u[8]=s=>l.value.cost=s),label:"Cost",placeholder:"Cost",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.available_qty,"onUpdate:modelValue":u[9]||(u[9]=s=>l.value.available_qty=s),label:"Available Qty",placeholder:"Available Qty",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(a,{cols:"12"},{default:t(()=>[e(V,null,{default:t(()=>[e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.reserved_qty,"onUpdate:modelValue":u[10]||(u[10]=s=>l.value.reserved_qty=s),label:"Reserved Qty",placeholder:"Reserved Qty",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(a,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.in_transit_qty,"onUpdate:modelValue":u[11]||(u[11]=s=>l.value.in_transit_qty=s),label:"In Transit Qty",placeholder:"In Transit Qty",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(a,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(T,{type:"submit",onClick:D},{default:t(()=>[h(" Submit ")]),_:1}),e(T,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[h(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ke=i("thead",null,[i("tr",null,[i("th",{class:"text-uppercase"}," Name "),i("th",{class:"text-center text-uppercase"}," Product Type "),i("th",{class:"text-center text-uppercase"}," Category "),i("th",{class:"text-center text-uppercase"}," Quantity "),i("th",{class:"text-center text-uppercase"}," Selling Price "),i("th",{class:"text-center text-uppercase"}," Cost "),i("th",{class:"text-center text-uppercase"}," Last Check Date "),i("th",{class:"text-center text-uppercase"}," Action ")])],-1),Pe={class:"text-center"},Te={class:"text-center"},he={class:"text-center"},Se={class:"text-center"},we={class:"text-center"},qe={class:"text-center"},Ae={class:"text-center"},je={__name:"ProductTable",setup(v){let c=ye();const r=j();U(!1);const o=U(null);return(p,b)=>(C(),$(N,null,[e(Ve,null,{default:t(()=>[ke,i("tbody",null,[(C(!0),$(N,null,fe(m(r).productList,l=>(C(),$("tr",{key:l.product_id},[i("td",null,g(l.product_type)+" "+g(l.name)+" - "+g(l.unit_amount)+g(l.unit),1),i("td",Pe,g(l.product_type),1),i("td",Te,g(l.category),1),i("td",he,g(l.available_qty),1),i("td",Se,g(l.selling_price),1),i("td",we,[k(i("span",null,g(l.cost),513),[[P,m(c).can("product-cost-view")]])]),i("td",qe,g(l.stock_check_date),1),i("td",Ae,[l.status?k((C(),x(w,{key:0,size:"20",start:"",icon:"fa-regular:eye",onClick:_=>m(r).inactiveProduct(l.product_id)},null,8,["onClick"])),[[P,m(c).can("product-edit")]]):k((C(),x(w,{key:1,size:"20",start:"",icon:"oui:eye-closed",onClick:_=>m(r).inactiveProduct(l.product_id)},null,8,["onClick"])),[[P,m(c).can("product-edit")]]),k(e(w,{size:"20",start:"",icon:"tabler:edit",onClick:_=>{o.value=l,m(r).editModalStatus=!0}},null,8,["onClick"]),[[P,m(c).can("product-edit")]]),l.stock_check_status?k((C(),x(w,{key:2,onClick:_=>m(r).updateCheckStatus(l.product_id),color:"success",size:"20",start:"",icon:"icon-park-solid:check-one"},null,8,["onClick"])),[[P,m(c).can("product-edit")]]):k((C(),x(w,{key:3,onClick:_=>m(r).updateCheckStatus(l.product_id),size:"20",start:"",icon:"icon-park-solid:check-one"},null,8,["onClick"])),[[P,m(c).can("product-edit")]])])]))),128))])]),_:1}),e(Ue,{modelValue:m(r).editModalStatus,"onUpdate:modelValue":b[0]||(b[0]=l=>m(r).editModalStatus=l),width:"auto"},{default:t(()=>[e(xe,{product:o.value},null,8,["product"])]),_:1},8,["modelValue"])],64))}},Me={__name:"ProductList",setup(v){return j(),(c,r)=>(C(),x(V,{justify:"center"},{default:t(()=>[e(a,{cols:"12"},{default:t(()=>[e(Q,{title:"Basic"},{default:t(()=>[e(je)]),_:1})]),_:1})]),_:1}))}};export{xe as _,ze as a,Me as b};
